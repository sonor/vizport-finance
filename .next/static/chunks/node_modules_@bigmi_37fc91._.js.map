{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"phantom.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/phantom.ts"],"sourcesContent":["import type {\n  BtcAccount,\n  SignPsbtParameters,\n  UTXOWalletProvider,\n} from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type PhantomBitcoinEventMap = {\n  accountsChanged(accounts: BtcAccount[]): void\n}\n\nexport type PhantomBitcoinEvents = {\n  on<TEvent extends keyof PhantomBitcoinEventMap>(\n    event: TEvent,\n    listener: PhantomBitcoinEventMap[TEvent]\n  ): void\n  removeListener<TEvent extends keyof PhantomBitcoinEventMap>(\n    event: TEvent,\n    listener: PhantomBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype PhantomConnectorProperties = {\n  getAccounts(): Promise<readonly (BtcAccount | Address)[]>\n  onAccountsChanged(accounts: (BtcAccount | Address)[]): void\n  getInternalProvider(): Promise<PhantomBitcoinProvider>\n} & UTXOWalletProvider\n\ntype PhantomBitcoinProvider = {\n  requestAccounts(): Promise<BtcAccount[]>\n  signPSBT(\n    psbtHex: Uint8Array,\n    options: {\n      inputsToSign: {\n        sigHash?: number | undefined\n        address: string\n        signingIndexes: number[]\n      }[]\n      finalize?: boolean\n    }\n  ): Promise<Uint8Array>\n} & PhantomBitcoinEvents\n\nphantom.type = 'UTXO' as const\nexport function phantom(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  let accountsChanged: ((accounts: BtcAccount[]) => void) | undefined\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    PhantomConnectorProperties\n  >((config) => ({\n    id: 'app.phantom.bitcoin',\n    name: 'Phantom',\n    type: phantom.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPgo=',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return\n      }\n      if ('phantom' in window) {\n        const anyWindow: any = window\n        const internalProvider = anyWindow.phantom?.bitcoin\n\n        if (internalProvider?.isPhantom) {\n          return internalProvider\n        }\n      }\n      // TODO: https://docs.phantom.app/phantom-deeplinks/deeplinks-ios-and-android\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(\n      this: PhantomBitcoinProvider,\n      { method, params }\n    ): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const psbtUint8Array = new Uint8Array(\n            psbt.match(/.{1,2}/g)!.map((byte) => Number.parseInt(byte, 16))\n          )\n          const signedPsbt = await this.signPSBT(psbtUint8Array, {\n            inputsToSign: options.inputsToSign,\n            finalize: options.finalize,\n          })\n          const signedPsbtHex = Array.from(signedPsbt, (byte) =>\n            byte.toString(16).padStart(2, '0')\n          ).join('')\n          return signedPsbtHex\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      try {\n        const accounts = await this.getAccounts()\n        const chainId = await this.getChainId()\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n\n        // Remove disconnected shim if it exists\n        if (shimDisconnect) {\n          await Promise.all([\n            config.storage?.setItem(`${this.id}.connected`, true),\n            config.storage?.removeItem(`${this.id}.disconnected`),\n          ])\n        }\n        return { accounts, chainId }\n      } catch (error: any) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: error.message,\n        })\n      }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n\n      if (accountsChanged) {\n        provider?.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.requestAccounts()\n      return accounts\n        .filter((account) => account.purpose === 'payment')\n        .map((account) => account.address as Address)\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isConnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          Boolean(await config.storage?.getItem(`${this.id}.connected`))\n        return isConnected\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged(accounts) {\n      if (accounts.length === 0) {\n        this.onDisconnect()\n      } else {\n        config.emitter.emit('change', {\n          accounts: accounts\n            .filter((account) => (account as BtcAccount).purpose === 'payment')\n            .map((account) => (account as BtcAccount).address as Address),\n        })\n      }\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      // No need to remove `${this.id}.disconnected` from storage because `onDisconnect` is typically\n      // only called when the wallet is disconnected through the wallet's interface, meaning the wallet\n      // actually disconnected and we don't need to simulate it.\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"file":"xverse.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/xverse.ts"],"sourcesContent":["import type {\n  BtcAccount,\n  SignPsbtParameters,\n  UTXOWalletProvider,\n} from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type XverseBitcoinEventMap = {\n  accountChange(accounts: BtcAccount[]): void\n}\n\nexport type XverseBitcoinEvents = {\n  addListener<TEvent extends keyof XverseBitcoinEventMap>(\n    event: TEvent,\n    listener: XverseBitcoinEventMap[TEvent]\n  ): void\n  removeListener?<TEvent extends keyof XverseBitcoinEventMap>(\n    event: TEvent,\n    listener: XverseBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype XverseConnectorProperties = {\n  getAccounts(): Promise<readonly (BtcAccount | Address)[]>\n  onAccountsChanged(accounts: (BtcAccount | Address)[]): void\n  getInternalProvider(): Promise<XverseBitcoinProvider>\n} & UTXOWalletProvider\n\ntype Purpose = 'ordinals' | 'payment' | 'stacks'\n\ntype Error = { code: number; message: string }\n\n// Define the shape of the request parameters\ninterface GetAccountsRequest {\n  purposes: Purpose[]\n}\n\ninterface GetAccountsResponse {\n  result?: { addresses: BtcAccount[] }\n  error?: Error\n}\n\ninterface RequestPermissionsResponse {\n  result?: boolean\n  error?: Error\n}\n\ntype XverseBitcoinProvider = {\n  request(\n    method: 'signPsbt',\n    options: {\n      psbt: string\n      allowedSignHash: number\n      signInputs: Record<string, number[]>\n      broadcast: boolean\n    }\n  ): Promise<string>\n  request(\n    method: 'getAccounts' | 'getAddresses',\n    options: GetAccountsRequest\n  ): Promise<GetAccountsResponse>\n  request(\n    method: 'wallet_requestPermissions' | 'wallet_renouncePermissions'\n  ): Promise<RequestPermissionsResponse>\n} & XverseBitcoinEvents\n\nxverse.type = 'UTXO' as const\nexport function xverse(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  let accountChange: ((accounts: BtcAccount[]) => void) | undefined\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    XverseConnectorProperties\n  >((config) => ({\n    id: 'XverseProviders.BitcoinProvider',\n    name: 'Xverse Wallet',\n    type: xverse.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return undefined\n      }\n      if ('XverseProviders' in window) {\n        const anyWindow: any = window\n        const provider = anyWindow.XverseProviders.BitcoinProvider\n        return provider\n      }\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(\n      this: XverseBitcoinProvider | any,\n      { method, params }\n    ): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const psbtBase64 = btoa(\n            psbt\n              .match(/.{1,2}/g)!\n              .map((byte: string) =>\n                String.fromCharCode(Number.parseInt(byte, 16))\n              )\n              .join('')\n          )\n          const signInputs = options.inputsToSign.reduce(\n            (signInputs, input) => {\n              if (!signInputs[input.address]) {\n                signInputs[input.address] = []\n              }\n              signInputs[input.address].push(...input.signingIndexes)\n              return signInputs\n            },\n            {} as Record<string, number[]>\n          )\n          const signedPsbt = await this.request('signPsbt', {\n            psbt: psbtBase64,\n            allowedSignHash: 1, // Default to Transaction.SIGHASH_ALL - 1\n            signInputs: signInputs,\n            broadcast: options.finalize,\n          })\n          if (signedPsbt?.error) {\n            throw signedPsbt?.error\n          }\n          return signedPsbt\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect({ isReconnecting } = {}) {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n\n      if (!isReconnecting) {\n        const connected = await provider.request('wallet_requestPermissions')\n\n        if (connected.error) {\n          throw new UserRejectedRequestError({\n            name: UserRejectedRequestError.name,\n            message: connected.error.message,\n          })\n        }\n      }\n\n      const accounts = await this.getAccounts()\n      const chainId = await this.getChainId()\n\n      if (!accountChange) {\n        accountChange = this.onAccountsChanged.bind(this)\n        provider.addListener('accountChange', accountChange)\n      }\n\n      // Remove disconnected shim if it exists\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.connected`, true),\n          config.storage?.removeItem(`${this.id}.disconnected`),\n        ])\n      }\n\n      return { accounts, chainId }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      if (accountChange) {\n        provider.removeListener?.('accountChange', accountChange)\n        accountChange = undefined\n      }\n\n      // await provider.request('wallet_renouncePermissions').catch();\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.request('getAddresses', {\n        purposes: ['payment'],\n      })\n      if (!accounts.result) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: accounts.error?.message!,\n        })\n      }\n      return accounts.result.addresses.map(\n        (account) => account.address as Address\n      )\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isConnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          Boolean(await config.storage?.getItem(`${this.id}.connected`))\n        return isConnected\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged() {\n      const { accounts } = await this.connect()\n      config.emitter.emit('change', {\n        accounts,\n      })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"file":"unisat.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/unisat.ts"],"sourcesContent":["import type { SignPsbtParameters, UTXOWalletProvider } from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n  withRetry,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type UnisatBitcoinEventMap = {\n  accountsChanged(accounts: Address[]): void\n}\n\nexport type UnisatBitcoinEvents = {\n  addListener<TEvent extends keyof UnisatBitcoinEventMap>(\n    event: TEvent,\n    listener: UnisatBitcoinEventMap[TEvent]\n  ): void\n  removeListener<TEvent extends keyof UnisatBitcoinEventMap>(\n    event: TEvent,\n    listener: UnisatBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype UnisatConnectorProperties = {\n  getAccounts(): Promise<readonly Address[]>\n  onAccountsChanged(accounts: Address[]): void\n  getInternalProvider(): Promise<UnisatBitcoinProvider>\n} & UTXOWalletProvider\n\ntype UnisatBitcoinProvider = {\n  requestAccounts(): Promise<Address[]>\n  getAccounts(): Promise<Address[]>\n  signPsbt(\n    psbtHex: string,\n    options: {\n      toSignInputs: {\n        index: number\n        address: string\n        sighashTypes?: number[]\n      }[]\n      autoFinalized?: boolean\n    }\n  ): Promise<string>\n} & UnisatBitcoinEvents\n\nunisat.type = 'UTXO' as const\nexport function unisat(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  let accountsChanged: ((accounts: Address[]) => void) | undefined\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    UnisatConnectorProperties\n  >((config) => ({\n    id: 'unisat',\n    name: 'Unisat',\n    type: unisat.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtbmFtZT0i5Zu+5bGCIDIiIHZpZXdCb3g9IjAgMCAxMTUuNzcgMTQ3LjciPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjMzNzkuMDMiIHgyPSIzNDE1LjQ4IiB5MT0iLTIxMDIiIHkyPSItMjE5OC4xMSIgZGF0YS1uYW1lPSLmnKrlkb3lkI3nmoTmuJDlj5ggNSIgZ3JhZGllbnRUcmFuc2Zvcm09InJvdGF0ZSgtMTM0LjczIDIxODcuNjY3IC0zNTMuNDI3KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzIwMWMxYiIvPjxzdG9wIG9mZnNldD0iLjM2IiBzdG9wLWNvbG9yPSIjNzczOTBkIi8+PHN0b3Agb2Zmc2V0PSIuNjciIHN0b3AtY29sb3I9IiNlYTgxMDEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmNGI4NTIiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjMzODQuMjMiIHgyPSIzMzMwLjY0IiB5MT0iLTIyMzEuNDIiIHkyPSItMjEzMS4yOSIgZGF0YS1uYW1lPSLmnKrlkb3lkI3nmoTmuJDlj5ggNCIgZ3JhZGllbnRUcmFuc2Zvcm09InJvdGF0ZSgtMTM0LjczIDIxODcuNjY3IC0zNTMuNDI3KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzFmMWQxYyIvPjxzdG9wIG9mZnNldD0iLjM3IiBzdG9wLWNvbG9yPSIjNzczOTBkIi8+PHN0b3Agb2Zmc2V0PSIuNjciIHN0b3AtY29sb3I9IiNlYTgxMDEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmNGZiNTIiLz48L2xpbmVhckdyYWRpZW50PjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjUzLjAxIiBjeT0iNDUuODQiIHI9IjExLjEzIiBkYXRhLW5hbWU9IuacquWRveWQjeeahOa4kOWPmCA2IiBmeD0iNTMuMDEiIGZ5PSI0NS44NCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2Y0Yjg1MiIvPjxzdG9wIG9mZnNldD0iLjMzIiBzdG9wLWNvbG9yPSIjZWE4MTAxIi8+PHN0b3Agb2Zmc2V0PSIuNjQiIHN0b3AtY29sb3I9IiM3NzM5MGQiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyMTFjMWQiLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48ZyBkYXRhLW5hbWU9IuWbvuWxgiAxIj48cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJtODEuNjYgMTMuMjkgMzAuMzEgMzAuMDJjMi41OCAyLjU1IDMuODUgNS4xMyAzLjgxIDcuNzMtLjA0IDIuNi0xLjE1IDQuOTctMy4zMiA3LjEyLTIuMjcgMi4yNS00LjcyIDMuMzktNy4zNCAzLjQ0LTIuNjIuMDQtNS4yMi0xLjIyLTcuOC0zLjc3bC0zMS0zMC43Yy0zLjUyLTMuNDktNi45Mi01Ljk2LTEwLjE5LTcuNDEtMy4yNy0xLjQ1LTYuNzEtMS42OC0xMC4zMS0uNjgtMy42MS45OS03LjQ4IDMuNTQtMTEuNjMgNy42NC01LjcyIDUuNjctOC40NSAxMC45OS04LjE3IDE1Ljk2LjI4IDQuOTcgMy4xMiAxMC4xMyA4LjUxIDE1LjQ2bDMxLjI1IDMwLjk2YzIuNjEgMi41OCAzLjg5IDUuMTYgMy44NSA3LjcyLS4wNCAyLjU3LTEuMTYgNC45NC0zLjM3IDcuMTMtMi4yIDIuMTgtNC42MyAzLjMyLTcuMjcgMy40MS0yLjY0LjA5LTUuMjctMS4xNi03Ljg3LTMuNzRMMjAuODEgNzMuNTZjLTQuOTMtNC44OC04LjQ5LTkuNS0xMC42OC0xMy44Ni0yLjE5LTQuMzYtMy4wMS05LjI5LTIuNDQtMTQuNzkuNTEtNC43MSAyLjAyLTkuMjcgNC41NC0xMy42OSAyLjUxLTQuNDIgNi4xMS04Ljk0IDEwLjc4LTEzLjU3IDUuNTYtNS41MSAxMC44Ny05LjczIDE1LjkzLTEyLjY3QzQzLjk5IDIuMDQgNDguODguNDEgNTMuNi4wN2M0LjczLS4zNCA5LjM5LjYgMTQgMi44MiA0LjYxIDIuMjIgOS4yOSA1LjY4IDE0LjA1IDEwLjRaIi8+PHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTM0LjExIDEzNC40MiAzLjgxIDEwNC40QzEuMjMgMTAxLjg0LS4wNCA5OS4yNyAwIDk2LjY3Yy4wNC0yLjYgMS4xNS00Ljk3IDMuMzItNy4xMiAyLjI3LTIuMjUgNC43Mi0zLjM5IDcuMzQtMy40NCAyLjYyLS4wNCA1LjIyIDEuMjEgNy44IDMuNzdsMzAuOTkgMzAuN2MzLjUzIDMuNDkgNi45MiA1Ljk2IDEwLjE5IDcuNDEgMy4yNyAxLjQ1IDYuNzEgMS42NyAxMC4zMi42OCAzLjYxLS45OSA3LjQ4LTMuNTQgMTEuNjMtNy42NSA1LjcyLTUuNjcgOC40NS0xMC45OSA4LjE3LTE1Ljk2LS4yOC00Ljk3LTMuMTItMTAuMTMtOC41MS0xNS40N0w2NC42IDczLjI0Yy0yLjYxLTIuNTgtMy44OS01LjE2LTMuODUtNy43Mi4wNC0yLjU3IDEuMTYtNC45NCAzLjM3LTcuMTMgMi4yLTIuMTggNC42My0zLjMyIDcuMjctMy40MSAyLjY0LS4wOSA1LjI3IDEuMTYgNy44NyAzLjc0bDE1LjcgMTUuNDFjNC45MyA0Ljg4IDguNDkgOS41IDEwLjY4IDEzLjg2IDIuMTkgNC4zNiAzLjAxIDkuMjkgMi40NCAxNC43OS0uNTEgNC43MS0yLjAyIDkuMjctNC41NCAxMy42OS0yLjUxIDQuNDItNi4xMSA4Ljk0LTEwLjc4IDEzLjU3LTUuNTYgNS41MS0xMC44NyA5LjczLTE1LjkzIDEyLjY3LTUuMDYgMi45NC05Ljk1IDQuNTgtMTQuNjggNC45Mi00LjczLjM0LTkuMzktLjYtMTQtMi44Mi00LjYxLTIuMjItOS4yOS01LjY4LTE0LjA1LTEwLjRaIi8+PGNpcmNsZSBjeD0iNTMuMDEiIGN5PSI0NS44MyIgcj0iMTEuMTMiIGZpbGw9InVybCgjYykiLz48L2c+PC9zdmc+',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return\n      }\n      if ('unisat' in window) {\n        const anyWindow: any = window\n        return anyWindow.unisat\n      }\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(\n      this: UnisatBitcoinProvider,\n      { method, params }\n    ): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const toSignInputs = options.inputsToSign.flatMap(\n            ({ sigHash, address, signingIndexes }) =>\n              signingIndexes.map((index) => ({\n                index,\n                address,\n                sighashTypes: sigHash !== undefined ? [sigHash] : undefined,\n              }))\n          )\n          const signedPsbt = await this.signPsbt(psbt, {\n            toSignInputs,\n            autoFinalized: options.finalize,\n          })\n          return signedPsbt\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      try {\n        const accounts = await provider.requestAccounts()\n        const chainId = await this.getChainId()\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.addListener('accountsChanged', accountsChanged)\n        }\n\n        // Remove disconnected shim if it exists\n        if (shimDisconnect) {\n          await Promise.all([\n            config.storage?.setItem(`${this.id}.connected`, true),\n            config.storage?.removeItem(`${this.id}.disconnected`),\n          ])\n        }\n        return { accounts, chainId }\n      } catch (error: any) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: error.message,\n        })\n      }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n\n      if (accountsChanged) {\n        provider?.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.getAccounts()\n      return accounts as Address[]\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isDisconnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          (await config.storage?.getItem(`${this.id}.disconnected`))\n        if (isDisconnected) {\n          return false\n        }\n        const accounts = await withRetry(() => this.getAccounts())\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged(accounts) {\n      if (accounts.length === 0) {\n        this.onDisconnect()\n      } else {\n        config.emitter.emit('change', {\n          accounts: accounts as Address[],\n        })\n      }\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      // No need to remove `${this.id}.disconnected` from storage because `onDisconnect` is typically\n      // only called when the wallet is disconnected through the wallet's interface, meaning the wallet\n      // actually disconnected and we don't need to simulate it.\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"file":"ctrl.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/ctrl.ts"],"sourcesContent":["import type { SignPsbtParameters, UTXOWalletProvider } from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type CtrlBitcoinEventMap = {\n  accountsChanged(accounts: Address[]): void\n}\n\nexport type CtrlBitcoinEvents = {\n  addListener<TEvent extends keyof CtrlBitcoinEventMap>(\n    event: TEvent,\n    listener: CtrlBitcoinEventMap[TEvent]\n  ): void\n  removeListener<TEvent extends keyof CtrlBitcoinEventMap>(\n    event: TEvent,\n    listener: CtrlBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype CtrlConnectorProperties = {\n  getAccounts(): Promise<readonly Address[]>\n  onAccountsChanged(accounts: Address[]): void\n  getInternalProvider(): Promise<CtrlBitcoinProvider>\n} & UTXOWalletProvider\n\ntype CtrlBitcoinProvider = {\n  requestAccounts(): Promise<Address[]>\n  getAccounts(): Promise<Address[]>\n  signPsbt(psbtHex: string, finalise?: boolean): Promise<string>\n} & CtrlBitcoinEvents\n\nctrl.type = 'UTXO' as const\nexport function ctrl(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  let accountsChanged: ((accounts: Address[]) => void) | undefined\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    CtrlConnectorProperties\n  >((config) => ({\n    id: 'io.xdefi.bitcoin',\n    name: 'XDEFI',\n    type: ctrl.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMTkxXzQyOTApIj4KPHJlY3Qgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHJ4PSIxMDQiIGZpbGw9IiMzMzVERTUiLz4KPHBhdGggZD0iTTQ2My40MzggMjQxLjI0N0M0NjAuNzY1IDIwNS4xMzUgNDQ4LjU4IDE3MC4zMzggNDI4LjA4NyAxNDAuMjcxQzQwNy41OTkgMTEwLjIwOSAzNzkuNTA5IDg1LjkxODIgMzQ2LjU3OSA2OS43OTZDMzEzLjY1MyA1My42NzggMjc3LjAzMiA0Ni4yODA0IDI0MC4zMiA0OC4zMzYzQzIwMy42MDUgNTAuMzkyMSAxNjguMDY5IDYxLjgyNTUgMTM3LjIxMiA4MS41MjAxQzEwNi4zNTQgMTAxLjIxIDgxLjIzOTQgMTI4LjQ4IDY0LjMzODYgMTYwLjYzNkw2My41MzYgMTYyLjI1N0M1OC4xOTcxIDE3My4xMjYgNTQuNTg3OCAxODQuNzQ1IDUyLjg0MTEgMTk2LjY5N0M0Ny44NDU1IDIzMi4wMjEgNTUuNTkyIDI2My40NiA3NS44Mjc1IDI4Ny42NjdDOTcuOTU5OSAzMTQuMTM2IDEzMy45OTMgMzI5Ljg3OSAxNzcuMjE1IDMzMS45NDdDMjI5LjgzMiAzMzQuNTU1IDI4Mi4xNDggMzIwLjQzNCAzMTkuMjc1IDI5NC40NThMMzQxLjI4NyAzMDcuMzUzQzMyMC4yNTggMzI1LjI5MSAyNzEuNjM3IDM1Ny41OTQgMTkxLjExMiAzNjIuMDA5QzEwMC43MTkgMzY2LjkzIDYzLjA0MjUgMzM4LjAwMSA2Mi42OTA1IDMzNy43MDZMNTYuMzUxNyAzNDUuNDAzTDQ4IDM1NS4yNzNDNDkuNjAwOCAzNTYuNiA4NS43Mjg1IDM4NS4zMzUgMTcwLjU3NiAzODUuMzM1QzE3Ny41MiAzODUuMzM1IDE4NC44MTYgMzg1LjMzNSAxOTIuNDEyIDM4NC43NDZDMjg5Ljg3MyAzNzkuMzkxIDM0My40NzYgMzM3LjU3NSAzNjIuMjMxIDMxOS42MjlMMzgwLjY0MiAzMzAuNjM3QzM2OC4yNjEgMzQ2LjY1OCAzNTMuMDI1IDM2MC4zMzMgMzM1LjY3IDM3MC45ODJDMjc0LjUwNCA0MDkuODQ5IDE5Ni43MDggNDE0Ljg2NyAxNDIuMjQyIDQxMi4xNjJMMTQxLjA5NiA0MzQuODMxQzE1MC4yNDIgNDM1LjI3MyAxNTkuMDM1IDQzNS40NzEgMTY3LjU4IDQzNS40NzFDMzIxLjA0OCA0MzUuNDcxIDM4My4xMzIgMzY2LjcxOSA0MDAuNTM5IDM0Mi4wNjJMNDE0LjkyNSAzNTAuNDg3QzQwMS4xMzUgMzczLjYwMyAzODIuMzkzIDM5My41NjcgMzU5LjkzMSA0MDguOTM5QzMzMy4wMzQgNDI3LjM0NSAzMDEuNzM1IDQzOC41MzggMjY5LjExNCA0NDEuNDE1TDI3MS4xMTQgNDY0QzMwNy43MzkgNDYwLjc4NiAzNDIuODg4IDQ0OC4yMzYgMzczLjA4OSA0MjcuNTgxQzQwMy4yOSA0MDYuOTI2IDQyNy41MDggMzc4Ljg4MSA0NDMuMzQ5IDM0Ni4yMDdDNDU5LjE4NSAzMTMuNTI5IDQ2Ni4xMTYgMjc3LjM1OCA0NjMuNDM4IDI0MS4yNDdaTTM3NC44MSAyNDQuNzM5QzM2NC42MjYgMjQ0LjczOSAzNTYuMzY4IDIzNi42MTMgMzU2LjM2OCAyMjYuNTg2QzM1Ni4zNjggMjE2LjU2IDM2NC42MjEgMjA4LjQzMyAzNzQuODEgMjA4LjQzM0MzODQuOTkgMjA4LjQzMyAzOTMuMjQ3IDIxNi41NiAzOTMuMjQ3IDIyNi41ODZDMzkzLjI0NyAyMzYuNjEzIDM4NC45OTQgMjQ0LjczOSAzNzQuODEgMjQ0LjczOVoiIGZpbGw9IiNFQ0VDRUMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMTkxXzQyOTAiPgo8cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return\n      }\n      if ('xfi' in window) {\n        const anyWindow: any = window\n        return anyWindow.xfi?.bitcoin\n      }\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(this: CtrlBitcoinProvider, { method, params }): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const signedPsbt = await this.signPsbt(psbt, options.finalize)\n          return signedPsbt\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      try {\n        const accounts = await provider.requestAccounts()\n        const chainId = await this.getChainId()\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.addListener('accountsChanged', accountsChanged)\n        }\n\n        // Remove disconnected shim if it exists\n        if (shimDisconnect) {\n          await Promise.all([\n            config.storage?.setItem(`${this.id}.connected`, true),\n            config.storage?.removeItem(`${this.id}.disconnected`),\n          ])\n        }\n        return { accounts, chainId }\n      } catch (error: any) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: error.message,\n        })\n      }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n\n      if (accountsChanged) {\n        provider?.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.getAccounts()\n      return accounts as Address[]\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isConnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          Boolean(await config.storage?.getItem(`${this.id}.connected`))\n        return isConnected\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged(accounts) {\n      if (accounts.length === 0) {\n        this.onDisconnect()\n      } else {\n        config.emitter.emit('change', {\n          accounts: accounts as Address[],\n        })\n      }\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      // No need to remove `${this.id}.disconnected` from storage because `onDisconnect` is typically\n      // only called when the wallet is disconnected through the wallet's interface, meaning the wallet\n      // actually disconnected and we don't need to simulate it.\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 647, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 653, "column": 0}, "map": {"version":3,"file":"okx.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/okx.ts"],"sourcesContent":["import type { SignPsbtParameters, UTXOWalletProvider } from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n  withRetry,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type OKXBitcoinEventMap = {\n  accountsChanged(accounts: Address[]): void\n}\n\nexport type OKXBitcoinEvents = {\n  addListener<TEvent extends keyof OKXBitcoinEventMap>(\n    event: TEvent,\n    listener: OKXBitcoinEventMap[TEvent]\n  ): void\n  removeListener<TEvent extends keyof OKXBitcoinEventMap>(\n    event: TEvent,\n    listener: OKXBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype OKXConnectorProperties = {\n  getAccounts(): Promise<readonly Address[]>\n  onAccountsChanged(accounts: Address[]): void\n  getInternalProvider(): Promise<OKXBitcoinProvider>\n} & UTXOWalletProvider\n\ntype OKXBitcoinProvider = {\n  requestAccounts(): Promise<Address[]>\n  getAccounts(): Promise<Address[]>\n  signPsbt(\n    psbtHex: string,\n    options: {\n      toSignInputs: {\n        index: number\n        address: string\n        sighashTypes?: number[]\n      }[]\n      autoFinalized?: boolean\n    }\n  ): Promise<string>\n} & OKXBitcoinEvents\n\nokx.type = 'UTXO' as const\nexport function okx(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  let accountsChanged: ((accounts: Address[]) => void) | undefined\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    OKXConnectorProperties\n  >((config) => ({\n    id: 'com.okex.wallet.bitcoin',\n    name: 'OKX Wallet',\n    type: okx.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+CiAgICA8cGF0aCBmaWxsPSIjMDAwIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIuNiA3SDcuNGEuNC40IDAgMCAwLS40LjR2NS4yYzAgLjIyLjE3OS40LjQuNGg1LjJhLjQuNCAwIDAgMCAuNC0uNFY3LjRhLjQuNCAwIDAgMC0uNC0uNE0xOC42MDIgMTMuMDAyaC01LjJhLjQuNCAwIDAgMC0uNC40djUuMmMwIC4yMi4xNzkuNC40LjRoNS4yYS40LjQgMCAwIDAgLjQtLjR2LTUuMmEuNC40IDAgMCAwLS40LS40TTE5LjQgN2g1LjJhLjQuNCAwIDAgMSAuNC40djUuMmEuNC40IDAgMCAxLS40LjRoLTUuMmEuNC40IDAgMCAxLS40LS40VjcuNGEuNC40IDAgMCAxIC40LS40TTEyLjYgMTlINy40YS40LjQgMCAwIDAtLjQuNHY1LjJjMCAuMjIuMTc5LjQuNC40aDUuMmEuNC40IDAgMCAwIC40LS40di01LjJhLjQuNCAwIDAgMC0uNC0uNE0xOS40IDE5aDUuMmEuNC40IDAgMCAxIC40LjR2NS4yYS40LjQgMCAwIDEtLjQuNGgtNS4yYS40LjQgMCAwIDEtLjQtLjR2LTUuMmEuNC40IDAgMCAxIC40LS40Ii8+Cjwvc3ZnPgo=',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return\n      }\n      if ('okxwallet' in window) {\n        const anyWindow: any = window\n        const internalProvider = anyWindow.okxwallet?.bitcoin\n\n        if (internalProvider?.isOkxWallet) {\n          return internalProvider\n        }\n      }\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(this: OKXBitcoinProvider, { method, params }): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const toSignInputs = options.inputsToSign.flatMap(\n            ({ sigHash, address, signingIndexes }) =>\n              signingIndexes.map((index) => ({\n                index,\n                address,\n                sighashTypes: sigHash !== undefined ? [sigHash] : undefined,\n              }))\n          )\n          const signedPsbt = await this.signPsbt(psbt, {\n            toSignInputs,\n            autoFinalized: options.finalize,\n          })\n          return signedPsbt\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      try {\n        const accounts = await provider.requestAccounts()\n        const chainId = await this.getChainId()\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.addListener('accountsChanged', accountsChanged)\n        }\n\n        // Remove disconnected shim if it exists\n        if (shimDisconnect) {\n          await Promise.all([\n            config.storage?.setItem(`${this.id}.connected`, true),\n            config.storage?.removeItem(`${this.id}.disconnected`),\n          ])\n        }\n        return { accounts, chainId }\n      } catch (error: any) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: error.message,\n        })\n      }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n\n      if (accountsChanged) {\n        provider?.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.getAccounts()\n      return accounts as Address[]\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isDisconnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          (await config.storage?.getItem(`${this.id}.disconnected`))\n        if (isDisconnected) {\n          return false\n        }\n        const accounts = await withRetry(() => this.getAccounts())\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged(accounts) {\n      if (accounts.length === 0) {\n        this.onDisconnect()\n      } else {\n        config.emitter.emit('change', {\n          accounts: accounts as Address[],\n        })\n      }\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      // No need to remove `${this.id}.disconnected` from storage because `onDisconnect` is typically\n      // only called when the wallet is disconnected through the wallet's interface, meaning the wallet\n      // actually disconnected and we don't need to simulate it.\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"file":"leather.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/leather.ts"],"sourcesContent":["import type {\n  BtcAccount,\n  SignPsbtParameters,\n  UTXOWalletProvider,\n} from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type LeatherBitcoinEventMap = {\n  accountChange(accounts: BtcAccount[]): void\n}\n\nexport type LeatherBitcoinEvents = {\n  addListener<TEvent extends keyof LeatherBitcoinEventMap>(\n    event: TEvent,\n    listener: LeatherBitcoinEventMap[TEvent]\n  ): void\n  removeListener?<TEvent extends keyof LeatherBitcoinEventMap>(\n    event: TEvent,\n    listener: LeatherBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype LeatherConnectorProperties = {\n  getAccounts(): Promise<readonly (BtcAccount | Address)[]>\n  getInternalProvider(): Promise<LeatherBitcoinProvider>\n} & UTXOWalletProvider\n\ntype Error = { code: number; message: string }\n\ninterface GetAccountsResponse {\n  result?: { addresses: BtcAccount[] }\n  error?: Error\n}\n\ntype LeatherBitcoinProvider = {\n  request(\n    method: 'signPsbt',\n    options: {\n      psbt: string\n      allowedSignHash: number\n      signInputs: Record<string, number[]>\n      broadcast: boolean\n    }\n  ): Promise<string>\n  request(method: 'getAddresses'): Promise<GetAccountsResponse>\n} & LeatherBitcoinEvents\n\nleather.type = 'UTXO' as const\nexport function leather(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    LeatherConnectorProperties\n  >((config) => ({\n    id: 'LeatherProvider',\n    name: 'Leather',\n    type: leather.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSJub25lIj4KICAgIDxwYXRoIGZpbGw9IiMxMjEwMEYiIGQ9Ik0wIDBoMTI4djEyOEgweiIvPgogICAgPHBhdGggZmlsbD0iI0Y1RjFFRCIgZD0iTTc0LjkxNyA1Mi43MTFjNy41Ni0xLjE3IDE4LjQ5Mi05LjEzIDE4LjQ5Mi0xNS4zMzUgMC0xLjg3My0xLjUxMi0zLjE2LTMuNzIyLTMuMTYtNC4xODcgMC0xMS4yOCA2LjMyLTE0Ljc3IDE4LjQ5NU0zOS45MTEgODMuNWMtOS44ODUgMC0xMC43IDkuODMzLS44MTQgOS44MzMgNC40MiAwIDkuNzctMS43NTYgMTIuNTYtNC45MTYtNC4wNy0zLjUxMi03LjQ0My00LjkxNy0xMS43NDYtNC45MTdtNjIuOTE4LTQuMjE0Yy41ODEgMTYuNTA2LTcuNzkyIDI1Ljc1NC0yMS45OCAyNS43NTQtOC4zNzQgMC0xMi41Ni0zLjE2MS0yMS41MTYtOS4wMTQtNC42NTIgNS4xNTEtMTMuNDkgOS4wMTQtMjAuODE4IDkuMDE0LTI1LjIzNiAwLTI0LjE5LTMyLjE5MyAxLjUxMi0zMi4xOTMgNS4zNSAwIDkuODg2IDEuNDA1IDE1LjcgNS4wMzRsMy44MzktMTMuNDYyQzQzLjc0OSA2MC4wODYgMzUuODQgNDcuOTEyIDQzLjYzMyAzMC40NjloMTIuNTZjLTYuOTc4IDExLjU5LTIuMjEgMjEuMTg5IDYuNjI5IDIyLjI0MkM2Ny41OSAzNS43MzcgNzcuODI1IDIyLjUxIDkxLjQzMiAyMi41MWM3LjY3NSAwIDEzLjcyMyA1LjAzNCAxMy43MjMgMTQuMTY1IDAgMTQuNjMzLTE5LjA3MyAyNi41NzMtMzMuNDk0IDI3Ljc0NEw2NS43MyA4NS4zNzJjNi43NDUgNy44NDMgMjUuNDY5IDE1LjQ1MiAyNS40NjktNi4wODd6Ii8+Cjwvc3ZnPg==',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return undefined\n      }\n      if ('LeatherProvider' in window) {\n        const anyWindow: any = window\n        const provider = anyWindow.LeatherProvider\n        return provider\n      }\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(\n      this: LeatherBitcoinProvider | any,\n      { method, params }\n    ): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const signedPsbt = await this.request('signPsbt', {\n            psbt: psbt,\n            broadcast: options.finalize,\n          })\n          if (signedPsbt?.error) {\n            throw signedPsbt?.error\n          }\n          return signedPsbt\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n\n      const accounts = await this.getAccounts()\n      const chainId = await this.getChainId()\n\n      // Remove disconnected shim if it exists\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.connected`, true),\n          config.storage?.removeItem(`${this.id}.disconnected`),\n        ])\n      }\n\n      return { accounts, chainId }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.request('getAddresses')\n      if (!accounts.result) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: accounts.error?.message!,\n        })\n      }\n      return accounts.result.addresses.map(\n        (account) => account.address as Address\n      )\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isConnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          Boolean(await config.storage?.getItem(`${this.id}.connected`))\n        return isConnected\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged() {\n      const { accounts } = await this.connect()\n      config.emitter.emit('change', {\n        accounts,\n      })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"file":"onekey.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/connectors/onekey.ts"],"sourcesContent":["import type { SignPsbtParameters, UTXOWalletProvider } from '@bigmi/core'\nimport {\n  type Address,\n  MethodNotSupportedRpcError,\n  UserRejectedRequestError,\n  withRetry,\n} from 'viem'\nimport { ProviderNotFoundError, createConnector } from 'wagmi'\nimport type { UTXOConnectorParameters } from './types.js'\n\nexport type OneKeyBitcoinEventMap = {\n  accountsChanged(accounts: Address[]): void\n}\n\nexport type OneKeyBitcoinEvents = {\n  addListener<TEvent extends keyof OneKeyBitcoinEventMap>(\n    event: TEvent,\n    listener: OneKeyBitcoinEventMap[TEvent]\n  ): void\n  removeListener<TEvent extends keyof OneKeyBitcoinEventMap>(\n    event: TEvent,\n    listener: OneKeyBitcoinEventMap[TEvent]\n  ): void\n}\n\ntype OneKeyConnectorProperties = {\n  getAccounts(): Promise<readonly Address[]>\n  onAccountsChanged(accounts: Address[]): void\n  getInternalProvider(): Promise<OneKeyBitcoinProvider>\n} & UTXOWalletProvider\n\ntype OneKeyBitcoinProvider = {\n  requestAccounts(): Promise<Address[]>\n  getAccounts(): Promise<Address[]>\n  signPsbt(\n    psbtHex: string,\n    options: {\n      toSignInputs: {\n        index: number\n        address: string\n        sighashTypes?: number[]\n      }[]\n      autoFinalized?: boolean\n    }\n  ): Promise<string>\n} & OneKeyBitcoinEvents\n\nonekey.type = 'UTXO' as const\nexport function onekey(parameters: UTXOConnectorParameters = {}) {\n  const { chainId, shimDisconnect = true } = parameters\n  let accountsChanged: ((accounts: Address[]) => void) | undefined\n  return createConnector<\n    UTXOWalletProvider | undefined,\n    OneKeyConnectorProperties\n  >((config) => ({\n    id: 'so.onekey.app.wallet.bitcoin',\n    name: 'OneKey',\n    type: onekey.type,\n    icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTMiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNi4wMDAxIDIyLjkxMDhDMTcuNTMwOSAyMi45MTA4IDE4Ljc3MTggMjEuNjY5OSAxOC43NzE4IDIwLjEzOTFDMTguNzcxOCAxOC42MDg0IDE3LjUzMDkgMTcuMzY3NCAxNi4wMDAxIDE3LjM2NzRDMTQuNDY5MyAxNy4zNjc0IDEzLjIyODQgMTguNjA4NCAxMy4yMjg0IDIwLjEzOTFDMTMuMjI4NCAyMS42Njk5IDE0LjQ2OTMgMjIuOTEwOCAxNi4wMDAxIDIyLjkxMDhaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2IDMyQzI3LjA0NTcgMzIgMzIgMjcuMDQ1NyAzMiAxNkMzMiA0Ljk1NDMgMjcuMDQ1NyAwIDE2IDBDNC45NTQzIDAgMCA0Ljk1NDMgMCAxNkMwIDI3LjA0NTcgNC45NTQzIDMyIDE2IDMyWk0xMi45OTQ1IDYuNzg0NTdIMTcuNDQ1NlYxNC4xMTk2SDE0LjY4NTlWOS4xNDU4M0gxMi4yMTM2TDEyLjk5NDUgNi43ODQ1N1pNMTYuMDAwMSAyNS4yMTU0QzE4LjgwMzcgMjUuMjE1NCAyMS4wNzY0IDIyLjk0MjcgMjEuMDc2NCAyMC4xMzkxQzIxLjA3NjQgMTcuMzM1NiAxOC44MDM3IDE1LjA2MjggMTYuMDAwMSAxNS4wNjI4QzEzLjE5NjUgMTUuMDYyOCAxMC45MjM4IDE3LjMzNTYgMTAuOTIzOCAyMC4xMzkxQzEwLjkyMzggMjIuOTQyNyAxMy4xOTY1IDI1LjIxNTQgMTYuMDAwMSAyNS4yMTU0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==',\n    async setup() {\n      //\n    },\n    async getInternalProvider() {\n      if (typeof window === 'undefined') {\n        return\n      }\n      if ('$onekey' in window) {\n        const anyWindow: any = window\n        return anyWindow.$onekey.btc\n      }\n    },\n    async getProvider() {\n      const internalProvider = await this.getInternalProvider()\n      if (!internalProvider) {\n        return\n      }\n      const provider = {\n        request: this.request.bind(internalProvider),\n      }\n      return provider\n    },\n    async request(\n      this: OneKeyBitcoinProvider,\n      { method, params }\n    ): Promise<any> {\n      switch (method) {\n        case 'signPsbt': {\n          const { psbt, ...options } = params as SignPsbtParameters\n          const toSignInputs = options.inputsToSign.flatMap(\n            ({ sigHash, address, signingIndexes }) =>\n              signingIndexes.map((index) => ({\n                index,\n                address,\n                sighashTypes: sigHash !== undefined ? [sigHash] : undefined,\n              }))\n          )\n          const signedPsbt = await this.signPsbt(psbt, {\n            toSignInputs,\n            autoFinalized: options.finalize,\n          })\n          return signedPsbt\n        }\n        default:\n          throw new MethodNotSupportedRpcError(\n            new Error(MethodNotSupportedRpcError.name),\n            {\n              method,\n            }\n          )\n      }\n    },\n    async connect() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      try {\n        const accounts = await provider.requestAccounts()\n        const chainId = await this.getChainId()\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.addListener('accountsChanged', accountsChanged)\n        }\n\n        // Remove disconnected shim if it exists\n        if (shimDisconnect) {\n          await Promise.all([\n            config.storage?.setItem(`${this.id}.connected`, true),\n            config.storage?.removeItem(`${this.id}.disconnected`),\n          ])\n        }\n        return { accounts, chainId }\n      } catch (error: any) {\n        throw new UserRejectedRequestError({\n          name: UserRejectedRequestError.name,\n          message: error.message,\n        })\n      }\n    },\n    async disconnect() {\n      const provider = await this.getInternalProvider()\n\n      if (accountsChanged) {\n        provider?.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n\n      // Add shim signalling connector is disconnected\n      if (shimDisconnect) {\n        await Promise.all([\n          config.storage?.setItem(`${this.id}.disconnected`, true),\n          config.storage?.removeItem(`${this.id}.connected`),\n        ])\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getInternalProvider()\n      if (!provider) {\n        throw new ProviderNotFoundError()\n      }\n      const accounts = await provider.getAccounts()\n      return accounts as Address[]\n    },\n    async getChainId() {\n      return chainId!\n    },\n    async isAuthorized() {\n      try {\n        const isDisconnected =\n          shimDisconnect &&\n          // If shim exists in storage, connector is disconnected\n          (await config.storage?.getItem(`${this.id}.disconnected`))\n        if (isDisconnected) {\n          return false\n        }\n        const accounts = await withRetry(() => this.getAccounts())\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async onAccountsChanged(accounts) {\n      if (accounts.length === 0) {\n        this.onDisconnect()\n      } else {\n        config.emitter.emit('change', {\n          accounts: accounts as Address[],\n        })\n      }\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      // No need to remove `${this.id}.disconnected` from storage because `onDisconnect` is typically\n      // only called when the wallet is disconnected through the wallet's interface, meaning the wallet\n      // actually disconnected and we don't need to simulate it.\n      config.emitter.emit('disconnect')\n    },\n  }))\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1125, "column": 0}, "map": {"version":3,"file":"createConfig.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/createConfig.ts"],"sourcesContent":["import {\n  createStorage,\n  createConfig as createWagmiConfig,\n  noopStorage,\n} from 'wagmi'\n\nexport function createConfig(\n  parameters: Parameters<typeof createWagmiConfig>[0]\n) {\n  return createWagmiConfig({\n    storage: createStorage({\n      key: 'bigmi',\n      storage:\n        typeof window !== 'undefined' && window.localStorage\n          ? window.localStorage\n          : noopStorage,\n    }),\n    ...parameters,\n  })\n}\n"],"names":[],"mappings":";;;;;;;;;AAMM,SAAU,YAAY,CAC1B,UAAmD;IAEnD,OAAO,iBAAiB,CAAC;QACvB,OAAO,EAAE,aAAa,CAAC;YACrB,GAAG,EAAE,OAAO;YACZ,OAAO,EACL,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,YAAY,GAChD,MAAM,CAAC,YAAY,GACnB,WAAW;SAClB,CAAC;QACF,GAAG,UAAU;KACd,CAAC,CAAA;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1143, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1149, "column": 0}, "map": {"version":3,"file":"getAddress.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/actions/getAddress.ts"],"sourcesContent":["import { isUTXOAddress } from '@bigmi/core'\nimport type { Address } from 'viem'\nimport { InvalidAddressError } from 'viem'\n\nexport function getAddress(address: string): Address {\n  if (!isUTXOAddress(address)) {\n    throw new InvalidAddressError({ address })\n  }\n  return address as Address\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAA;AAE3C,OAAO,EAAE,mBAAmB,EAAE,MAAM,MAAM,CAAA;;;AAEpC,SAAU,UAAU,CAAC,OAAe;IACxC,IAAI,iLAAC,gBAAA,AAAa,EAAC,OAAO,CAAC,EAAE,CAAC;QAC5B,MAAM,yJAAI,sBAAmB,CAAC;YAAE,OAAO;QAAA,CAAE,CAAC,CAAA;IAC5C,CAAC;IACD,OAAO,OAAkB,CAAA;AAC3B,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1164, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"file":"getConnectorClient.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/client/src/actions/getConnectorClient.ts"],"sourcesContent":["import {\n  ConnectorChainMismatchError,\n  ConnectorNotConnectedError,\n} from '@wagmi/core'\nimport { type Address, createClient, custom } from 'viem'\nimport { parseAccount } from 'viem/utils'\nimport type { Config, Connection } from 'wagmi'\nimport { ConnectorAccountNotFoundError } from 'wagmi'\nimport type {\n  GetConnectorClientParameters,\n  GetConnectorClientReturnType,\n} from 'wagmi/actions'\nimport { getAddress } from './getAddress.js'\n\nexport async function getConnectorClient<\n  C extends Config,\n  ChainId extends C['chains'][number]['id'],\n>(\n  config: C,\n  parameters: GetConnectorClientParameters<C, ChainId> = {}\n): Promise<GetConnectorClientReturnType<C, ChainId>> {\n  // Get connection\n  let connection: Connection | undefined\n  if (parameters.connector) {\n    const { connector } = parameters\n    const [accounts, chainId] = await Promise.all([\n      connector.getAccounts(),\n      connector.getChainId(),\n    ])\n    connection = {\n      accounts: accounts as readonly [Address, ...Address[]],\n      chainId,\n      connector,\n    }\n  } else {\n    connection = config.state.connections.get(config.state.current!)\n  }\n  if (!connection) {\n    throw new ConnectorNotConnectedError()\n  }\n\n  const chainId = parameters.chainId ?? connection.chainId\n\n  // Check connector using same chainId as connection\n  const connectorChainId = await connection.connector.getChainId()\n  if (connectorChainId !== connection.chainId) {\n    throw new ConnectorChainMismatchError({\n      connectionChainId: connection.chainId,\n      connectorChainId,\n    })\n  }\n\n  // If connector has custom `getClient` implementation\n  type Return = GetConnectorClientReturnType<C, ChainId>\n  const connector = connection.connector\n  if (connector.getClient) {\n    return connector.getClient({ chainId }) as unknown as Return\n  }\n\n  // Default using `custom` transport\n  const account = parseAccount(parameters.account ?? connection.accounts[0]!)\n  account.address = getAddress(account.address)\n\n  const chain = config.chains.find((chain: { id: any }) => chain.id === chainId)\n  const provider = (await connection.connector.getProvider({ chainId })) as {\n    request(...args: any): Promise<any>\n  }\n\n  // If account was provided, check that it exists on the connector\n  if (\n    parameters.account &&\n    !connection.accounts.some(\n      (x: string) => x.toLowerCase() === account.address.toLowerCase()\n    )\n  ) {\n    throw new ConnectorAccountNotFoundError({\n      address: account.address,\n      connector,\n    })\n  }\n\n  return createClient({\n    account,\n    chain,\n    name: 'Connector Client',\n    transport: (opts) => custom(provider)({ ...opts, retryCount: 0 }),\n  }) as Return\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1253, "column": 0}, "map": {"version":3,"file":"bitcoin.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/chains/bitcoin.ts"],"sourcesContent":["import { defineChain } from 'viem'\n\nexport const bitcoin = /*#__PURE__*/ defineChain({\n  id: 20000000000001,\n  name: 'Bitcoin',\n  nativeCurrency: { name: 'Bitcoin', symbol: 'BTC', decimals: 8 },\n  rpcUrls: {\n    default: {\n      http: ['https://node-router.thorswap.net/bitcoin'],\n    },\n  },\n  blockExplorers: {\n    default: {\n      name: 'Mempool',\n      url: 'https://mempool.space/',\n    },\n  },\n})\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,MAAM,CAAA;;AAE3B,MAAM,OAAO,GAAG,WAAA,EAAa,sKAAC,cAAA,AAAW,EAAC;IAC/C,EAAE,EAAE,cAAc;IAClB,IAAI,EAAE,SAAS;IACf,cAAc,EAAE;QAAE,IAAI,EAAE,SAAS;QAAE,MAAM,EAAE,KAAK;QAAE,QAAQ,EAAE,CAAC;IAAA,CAAE;IAC/D,OAAO,EAAE;QACP,OAAO,EAAE;YACP,IAAI,EAAE;gBAAC,0CAA0C;aAAC;SACnD;KACF;IACD,cAAc,EAAE;QACd,OAAO,EAAE;YACP,IAAI,EAAE,SAAS;YACf,GAAG,EAAE,wBAAwB;SAC9B;KACF;CACF,CAAC,CAAA","ignoreList":[0]}},
    {"offset": {"line": 1280, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1286, "column": 0}, "map": {"version":3,"file":"getUTXOAddress.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/utils/getUTXOAddress.ts"],"sourcesContent":["import { sha256 } from '@noble/hashes/sha256'\nimport { type Decoded, bech32, bech32m } from 'bech32'\nimport bs58 from 'bs58'\n\nexport enum UTXONetwork {\n  Mainnet = 'mainnet',\n  Testnet = 'testnet',\n  Regtest = 'regtest',\n}\n\nexport enum UTXOAddressType {\n  p2pkh = 'p2pkh',\n  p2sh = 'p2sh',\n  p2wpkh = 'p2wpkh',\n  p2wsh = 'p2wsh',\n  p2tr = 'p2tr',\n}\n\nexport type UTXOAddress = {\n  bech32: boolean\n  network: UTXONetwork\n  address: string\n  type: UTXOAddressType\n}\n\nconst addressTypes: {\n  [key: number]: { type: UTXOAddressType; network: UTXONetwork }\n} = {\n  0: {\n    type: UTXOAddressType.p2pkh,\n    network: UTXONetwork.Mainnet,\n  },\n  111: {\n    type: UTXOAddressType.p2pkh,\n    network: UTXONetwork.Testnet,\n  },\n  5: {\n    type: UTXOAddressType.p2sh,\n    network: UTXONetwork.Mainnet,\n  },\n  196: {\n    type: UTXOAddressType.p2sh,\n    network: UTXONetwork.Testnet,\n  },\n}\n\nconst parseBech32 = (address: string): UTXOAddress => {\n  let decoded: Decoded\n\n  try {\n    if (\n      address.startsWith('bc1p') ||\n      address.startsWith('tb1p') ||\n      address.startsWith('bcrt1p')\n    ) {\n      decoded = bech32m.decode(address)\n    } else {\n      decoded = bech32.decode(address)\n    }\n  } catch (_error) {\n    throw new Error('Invalid address')\n  }\n\n  const mapPrefixToNetwork: { [key: string]: UTXONetwork } = {\n    bc: UTXONetwork.Mainnet,\n    tb: UTXONetwork.Testnet,\n    bcrt: UTXONetwork.Regtest,\n  }\n\n  const network: UTXONetwork = mapPrefixToNetwork[decoded.prefix]\n\n  if (network === undefined) {\n    throw new Error('Invalid address')\n  }\n\n  const witnessVersion = decoded.words[0]\n\n  if (witnessVersion < 0 || witnessVersion > 16) {\n    throw new Error('Invalid address')\n  }\n  const data = bech32.fromWords(decoded.words.slice(1))\n\n  let type: UTXOAddressType\n  if (data.length === 20) {\n    type = UTXOAddressType.p2wpkh\n  } else if (witnessVersion === 1) {\n    type = UTXOAddressType.p2tr\n  } else {\n    type = UTXOAddressType.p2wsh\n  }\n\n  return {\n    bech32: true,\n    network,\n    address,\n    type,\n  }\n}\n\nexport const getUTXOAddress = (address: string): UTXOAddress => {\n  let decoded: Uint8Array\n  const prefix = address.substring(0, 2).toLowerCase()\n\n  if (prefix === 'bc' || prefix === 'tb') {\n    return parseBech32(address)\n  }\n\n  try {\n    decoded = bs58.decode(address)\n  } catch (_error) {\n    throw new Error('Invalid address')\n  }\n\n  const { length } = decoded\n\n  if (length !== 25) {\n    throw new Error('Invalid address')\n  }\n\n  const version = decoded[0]\n\n  const checksum = decoded.slice(length - 4, length)\n  const body = decoded.slice(0, length - 4)\n\n  const expectedChecksum = sha256(sha256(body)).slice(0, 4)\n\n  if (\n    checksum.some(\n      (value: number, index: number) => value !== expectedChecksum[index]\n    )\n  ) {\n    throw new Error('Invalid address')\n  }\n\n  const validVersions = Object.keys(addressTypes).map(Number)\n\n  if (!validVersions.includes(version)) {\n    throw new Error('Invalid address')\n  }\n\n  const addressType = addressTypes[version]\n\n  return {\n    ...addressType,\n    address,\n    bech32: false,\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1402, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1408, "column": 0}, "map": {"version":3,"file":"isUTXOAddress.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/utils/isUTXOAddress.ts"],"sourcesContent":["import { type UTXONetwork, getUTXOAddress } from './getUTXOAddress.js'\n\nexport const isUTXOAddress = (\n  address: string,\n  network?: UTXONetwork\n): boolean => {\n  try {\n    const utxoAddress = getUTXOAddress(address)\n\n    if (network) {\n      return network === utxoAddress.network\n    }\n\n    return true\n  } catch (_error) {\n    return false\n  }\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAoB,cAAc,EAAE,MAAM,qBAAqB,CAAA;;AAE/D,MAAM,aAAa,GAAG,CAC3B,OAAe,EACf,OAAqB,EACZ,EAAE;IACX,IAAI,CAAC;QACH,MAAM,WAAW,oLAAG,iBAAA,AAAc,EAAC,OAAO,CAAC,CAAA;QAE3C,IAAI,OAAO,EAAE,CAAC;YACZ,OAAO,OAAO,KAAK,WAAW,CAAC,OAAO,CAAA;QACxC,CAAC;QAED,OAAO,IAAI,CAAA;IACb,CAAC,CAAC,OAAO,MAAM,EAAE,CAAC;QAChB,OAAO,KAAK,CAAA;IACd,CAAC;AACH,CAAC,CAAA","ignoreList":[0]}},
    {"offset": {"line": 1424, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1430, "column": 0}, "map": {"version":3,"file":"getHttpRpcClient.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/getHttpRpcClient.ts"],"sourcesContent":["import { HttpRequestError, TimeoutError, stringify, withTimeout } from 'viem'\nimport type { HttpRequestReturnType, HttpRpcClientOptions } from 'viem/utils'\n\nexport type RpcRequest = {\n  jsonrpc?: '2.0'\n  method: string\n  params?: any\n  id?: number\n}\n\nexport type HttpRequestParameters<\n  body extends RpcRequest | RpcRequest[] = RpcRequest,\n> = {\n  url?: string\n  /** The RPC request body. */\n  body?: body\n  /** Request configuration to pass to `fetch`. */\n  fetchOptions?: HttpRpcClientOptions['fetchOptions'] | undefined\n  /** A callback to handle the response. */\n  onRequest?: ((request: Request) => Promise<void> | void) | undefined\n  /** A callback to handle the response. */\n  onResponse?: ((response: Response) => Promise<void> | void) | undefined\n  /** The timeout (in ms) for the request. */\n  timeout?: HttpRpcClientOptions['timeout'] | undefined\n}\n\nexport type HttpRpcClient = {\n  request<body extends RpcRequest | RpcRequest[]>(\n    params: HttpRequestParameters<body>\n  ): Promise<HttpRequestReturnType<body>>\n}\n\nexport function getHttpRpcClient(\n  url: string,\n  options: HttpRpcClientOptions = {}\n): HttpRpcClient {\n  return {\n    async request(params) {\n      const {\n        body,\n        onRequest = options.onRequest,\n        onResponse = options.onResponse,\n        timeout = options.timeout ?? 10_000,\n      } = params\n\n      const fetchOptions = {\n        ...(options.fetchOptions ?? {}),\n        ...(params.fetchOptions ?? {}),\n      }\n\n      const { headers, method, signal: signal_ } = fetchOptions\n\n      try {\n        const response = await withTimeout(\n          async ({ signal }) => {\n            const init: RequestInit = {\n              ...fetchOptions,\n              body: body ? stringify(body) : undefined,\n              headers: {\n                ...(method !== 'GET'\n                  ? { 'Content-Type': 'application/json' }\n                  : undefined),\n                ...headers,\n              },\n              method: method,\n              signal: signal_ || (timeout > 0 ? signal : null),\n            }\n            const request = new Request(params.url ?? url, init)\n            if (onRequest) {\n              await onRequest(request, init)\n            }\n            const response = await fetch(params.url ?? url, init)\n            return response\n          },\n          {\n            errorInstance: new TimeoutError({ body: body ?? {}, url }),\n            timeout,\n            signal: true,\n          }\n        )\n\n        if (onResponse) {\n          await onResponse(response)\n        }\n\n        let data: any\n        if (\n          response.headers.get('Content-Type')?.startsWith('application/json')\n        ) {\n          data = await response.json()\n        } else {\n          data = await response.text()\n          data = JSON.parse(data || '{}')\n        }\n\n        if (!response.ok) {\n          throw new HttpRequestError({\n            body,\n            details: stringify(data.error) || response.statusText,\n            headers: response.headers,\n            status: response.status,\n            url,\n          })\n        }\n\n        return data\n      } catch (err) {\n        if (err instanceof HttpRequestError) {\n          throw err\n        }\n        if (err instanceof TimeoutError) {\n          throw err\n        }\n        throw new HttpRequestError({\n          body,\n          cause: err as Error,\n          url,\n        })\n      }\n    },\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1510, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1516, "column": 0}, "map": {"version":3,"file":"blockchair.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/blockchair.ts"],"sourcesContent":["import type { RpcMethods } from './types.js'\n\ntype BlockchairBalanceResponse = {\n  data: Record<string, any>\n  context: { code: number; error: string }\n}\n\nexport const blockchairMethods: RpcMethods = {\n  getBalance: async (client, baseUrl, { address }) => {\n    const apiUrl = `${baseUrl}/addresses/balances/?addresses=${address}`\n    const response = (await client.request({\n      url: apiUrl,\n      fetchOptions: { method: 'GET' },\n    })) as unknown as BlockchairBalanceResponse\n    if (response.context?.code !== 200) {\n      return {\n        error: {\n          code: response.context?.code,\n          message: response.context?.error,\n        },\n      }\n    }\n    return {\n      result: BigInt(response.data[address]),\n    }\n  },\n}\n"],"names":[],"mappings":";;;AAOO,MAAM,iBAAiB,GAAe;IAC3C,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;QACjD,MAAM,MAAM,GAAG,GAAG,OAAO,CAAA,+BAAA,EAAkC,OAAO,EAAE,CAAA;QACpE,MAAM,QAAQ,GAAG,AAAC,MAAM,MAAM,CAAC,OAAO,CAAC;YACrC,GAAG,EAAE,MAAM;YACX,YAAY,EAAE;gBAAE,MAAM,EAAE,KAAK;YAAA,CAAE;SAChC,CAAC,CAAyC,CAAA;QAC3C,IAAI,QAAQ,CAAC,OAAO,EAAE,IAAI,KAAK,GAAG,EAAE,CAAC;YACnC,OAAO;gBACL,KAAK,EAAE;oBACL,IAAI,EAAE,QAAQ,CAAC,OAAO,EAAE,IAAI;oBAC5B,OAAO,EAAE,QAAQ,CAAC,OAAO,EAAE,KAAK;iBACjC;aACF,CAAA;QACH,CAAC;QACD,OAAO;YACL,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACvC,CAAA;IACH,CAAC;CACF,CAAA","ignoreList":[0]}},
    {"offset": {"line": 1541, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1547, "column": 0}, "map": {"version":3,"file":"ankr.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/ankr.ts"],"sourcesContent":["import type { RpcMethods } from './types.js'\n\ntype AnkrBalanceResponse = {\n  address: string\n  balance: string\n  totalReceived: string\n  totalSent: string\n  unconfirmedBalance: string\n  unconfirmedTxs: number\n  txs: number\n  error: string\n}\n\nexport const ankrMethods: RpcMethods = {\n  getBalance: async (client, baseUrl, { address }) => {\n    const apiUrl = `${baseUrl}/address/${address}?details=basic`\n    const response = (await client.request({\n      url: apiUrl,\n      fetchOptions: { method: 'GET' },\n    })) as unknown as AnkrBalanceResponse\n    if (response.error) {\n      return {\n        error: { code: -1, message: response.error },\n      }\n    }\n    return {\n      result: BigInt(response.balance),\n    }\n  },\n}\n"],"names":[],"mappings":";;;AAaO,MAAM,WAAW,GAAe;IACrC,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;QACjD,MAAM,MAAM,GAAG,GAAG,OAAO,CAAA,SAAA,EAAY,OAAO,CAAA,cAAA,CAAgB,CAAA;QAC5D,MAAM,QAAQ,GAAG,AAAC,MAAM,MAAM,CAAC,OAAO,CAAC;YACrC,GAAG,EAAE,MAAM;YACX,YAAY,EAAE;gBAAE,MAAM,EAAE,KAAK;YAAA,CAAE;SAChC,CAAC,CAAmC,CAAA;QACrC,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;YACnB,OAAO;gBACL,KAAK,EAAE;oBAAE,IAAI,EAAE,CAAC,CAAC;oBAAE,OAAO,EAAE,QAAQ,CAAC,KAAK;gBAAA,CAAE;aAC7C,CAAA;QACH,CAAC;QACD,OAAO;YACL,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;SACjC,CAAA;IACH,CAAC;CACF,CAAA","ignoreList":[0]}},
    {"offset": {"line": 1572, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1578, "column": 0}, "map": {"version":3,"file":"blockcypher.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/blockcypher.ts"],"sourcesContent":["import type { RpcMethods } from './types.js'\n\ntype BlockcypherBalanceResponse = {\n  address: string\n  total_received: number\n  total_sent: number\n  balance: number\n  unconfirmed_balance: number\n  final_balance: number\n  n_tx: number\n  unconfirmed_n_tx: number\n  final_n_tx: number\n  error?: string\n}\n\nexport const blockcypherMethods: RpcMethods = {\n  getBalance: async (client, baseUrl, { address }) => {\n    const apiUrl = `${baseUrl}/addrs/${address}`\n    const response = (await client.request({\n      url: apiUrl,\n      fetchOptions: { method: 'GET' },\n    })) as unknown as BlockcypherBalanceResponse\n    if (response.error) {\n      return {\n        error: { code: -1, message: response.error },\n      }\n    }\n    return {\n      result: BigInt(response.balance),\n    }\n  },\n}\n"],"names":[],"mappings":";;;AAeO,MAAM,kBAAkB,GAAe;IAC5C,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;QACjD,MAAM,MAAM,GAAG,GAAG,OAAO,CAAA,OAAA,EAAU,OAAO,EAAE,CAAA;QAC5C,MAAM,QAAQ,GAAG,AAAC,MAAM,MAAM,CAAC,OAAO,CAAC;YACrC,GAAG,EAAE,MAAM;YACX,YAAY,EAAE;gBAAE,MAAM,EAAE,KAAK;YAAA,CAAE;SAChC,CAAC,CAA0C,CAAA;QAC5C,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;YACnB,OAAO;gBACL,KAAK,EAAE;oBAAE,IAAI,EAAE,CAAC,CAAC;oBAAE,OAAO,EAAE,QAAQ,CAAC,KAAK;gBAAA,CAAE;aAC7C,CAAA;QACH,CAAC;QACD,OAAO;YACL,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;SACjC,CAAA;IACH,CAAC;CACF,CAAA","ignoreList":[0]}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1609, "column": 0}, "map": {"version":3,"file":"mempool.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/mempool.ts"],"sourcesContent":["import type { RpcMethods } from './types.js'\n\ntype MempoolBalanceResponse = {\n  address: string\n  chain_stats: {\n    funded_txo_count: number\n    funded_txo_sum: number\n    spent_txo_count: number\n    spent_txo_sum: number\n    tx_count: number\n  }\n  mempool_stats: {\n    funded_txo_count: number\n    funded_txo_sum: number\n    spent_txo_count: number\n    spent_txo_sum: number\n    tx_count: number\n  }\n}\n\nexport const mempoolMethods: RpcMethods = {\n  getBalance: async (client, baseUrl, { address }) => {\n    const apiUrl = `${baseUrl}/address/${address}`\n    const response = (await client.request({\n      url: apiUrl,\n      fetchOptions: { method: 'GET' },\n    })) as unknown as MempoolBalanceResponse\n    const balance =\n      response.chain_stats.funded_txo_sum - response.chain_stats.spent_txo_sum\n    return {\n      result: BigInt(balance),\n    }\n  },\n}\n"],"names":[],"mappings":";;;AAoBO,MAAM,cAAc,GAAe;IACxC,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;QACjD,MAAM,MAAM,GAAG,GAAG,OAAO,CAAA,SAAA,EAAY,OAAO,EAAE,CAAA;QAC9C,MAAM,QAAQ,GAAG,AAAC,MAAM,MAAM,CAAC,OAAO,CAAC;YACrC,GAAG,EAAE,MAAM;YACX,YAAY,EAAE;gBAAE,MAAM,EAAE,KAAK;YAAA,CAAE;SAChC,CAAC,CAAsC,CAAA;QACxC,MAAM,OAAO,GACX,QAAQ,CAAC,WAAW,CAAC,cAAc,GAAG,QAAQ,CAAC,WAAW,CAAC,aAAa,CAAA;QAC1E,OAAO;YACL,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC;SACxB,CAAA;IACH,CAAC;CACF,CAAA","ignoreList":[0]}},
    {"offset": {"line": 1627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1633, "column": 0}, "map": {"version":3,"file":"getRpcProviderMethods.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/getRpcProviderMethods.ts"],"sourcesContent":["import { ankrMethods } from './ankr.js'\nimport { blockchairMethods } from './blockchair.js'\nimport { blockcypherMethods } from './blockcypher.js'\nimport { mempoolMethods } from './mempool.js'\nimport type { RpcMethods } from './types.js'\n\nexport function getRpcProviderMethods(\n  key: 'blockchair' | 'ankr' | 'blockcypher' | 'mempool' | string\n): RpcMethods | null {\n  switch (key) {\n    case 'blockchair':\n      return blockchairMethods\n    case 'ankr':\n      return ankrMethods\n    case 'blockcypher':\n      return blockcypherMethods\n    case 'mempool':\n      return mempoolMethods\n    default:\n      return null\n  }\n}\n"],"names":[],"mappings":";;;AACA,OAAO,EAAE,iBAAiB,EAAE,MAAM,iBAAiB,CAAA;AADnD,OAAO,EAAE,WAAW,EAAE,MAAM,WAAW,CAAA;AAEvC,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAA;AACrD,OAAO,EAAE,cAAc,EAAE,MAAM,cAAc,CAAA;;;;;AAGvC,SAAU,qBAAqB,CACnC,GAA+D;IAE/D,OAAQ,GAAG,EAAE,CAAC;QACZ,KAAK,YAAY;YACf,qLAAO,oBAAiB,CAAA;QAC1B,KAAK,MAAM;YACT,+KAAO,cAAW,CAAA;QACpB,KAAK,aAAa;YAChB,sLAAO,qBAAkB,CAAA;QAC3B,KAAK,SAAS;YACZ,kLAAO,iBAAc,CAAA;QACvB;YACE,OAAO,IAAI,CAAA;IACf,CAAC;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1658, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1664, "column": 0}, "map": {"version":3,"file":"utxo.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/transports/utxo.ts"],"sourcesContent":["import {\n  type HttpTransport,\n  type HttpTransportConfig,\n  RpcRequestError,\n  UrlRequiredError,\n  createTransport,\n} from 'viem'\nimport { getHttpRpcClient } from './getHttpRpcClient.js'\nimport { getRpcProviderMethods } from './getRpcProviderMethods.js'\nimport type { UTXOAPIMethod } from './types.js'\n\ntype UTXOHttpTransportConfig = HttpTransportConfig & {\n  includeChainToURL?: boolean\n}\n\nexport function utxo(\n  url?: string,\n  config: UTXOHttpTransportConfig = {}\n): HttpTransport {\n  const {\n    fetchOptions,\n    key = 'utxo',\n    name = 'UTXO HTTP API',\n    onFetchRequest,\n    onFetchResponse,\n    retryDelay,\n  } = config\n  return ({ chain, retryCount: retryCount_, timeout: timeout_ }) => {\n    const retryCount = config.retryCount ?? retryCount_\n    const timeout = timeout_ ?? config.timeout ?? 10_000\n    let url_ = url\n    if (config.includeChainToURL) {\n      const chainName = chain?.name.replace(' ', '-').toLowerCase()\n      url_ = `${url}${chainName ? `/${chainName}` : ''}`\n    }\n    if (!url_) {\n      throw new UrlRequiredError()\n    }\n\n    const client = getHttpRpcClient(url_, {\n      fetchOptions,\n      onRequest: onFetchRequest,\n      onResponse: onFetchResponse,\n      timeout,\n    })\n\n    const rpcMethods = getRpcProviderMethods(key)\n\n    return createTransport(\n      {\n        key,\n        name,\n        async request({ method, params }) {\n          const body = { method, params }\n          const methodHandler = rpcMethods?.[method as UTXOAPIMethod]\n          const { error, result } = await (methodHandler?.(\n            client,\n            url_,\n            params\n          ) ??\n            client.request({\n              body,\n            }))\n          if (error) {\n            throw new RpcRequestError({\n              body,\n              error,\n              url: url_,\n            })\n          }\n          return result\n        },\n        retryCount,\n        retryDelay,\n        timeout,\n        type: 'http',\n      },\n      {\n        fetchOptions,\n        url: url_,\n      }\n    )\n  }\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAGL,eAAe,EACf,gBAAgB,EAChB,eAAe,GAChB,MAAM,MAAM,CAAA;AACb,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAA;AACxD,OAAO,EAAE,qBAAqB,EAAE,MAAM,4BAA4B,CAAA;;;;;;AAO5D,SAAU,IAAI,CAClB,GAAY,EACZ,SAAkC,CAAA,CAAE;IAEpC,MAAM,EACJ,YAAY,EACZ,GAAG,GAAG,MAAM,EACZ,IAAI,GAAG,eAAe,EACtB,cAAc,EACd,eAAe,EACf,UAAU,EACX,GAAG,MAAM,CAAA;IACV,OAAO,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE;QAC/D,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,IAAI,WAAW,CAAA;QACnD,MAAM,OAAO,GAAG,QAAQ,IAAI,MAAM,CAAC,OAAO,IAAI,KAAM,CAAA;QACpD,IAAI,IAAI,GAAG,GAAG,CAAA;QACd,IAAI,MAAM,CAAC,iBAAiB,EAAE,CAAC;YAC7B,MAAM,SAAS,GAAG,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,WAAW,EAAE,CAAA;YAC7D,IAAI,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAA,CAAA,EAAI,SAAS,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAA;QACpD,CAAC;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,2JAAI,mBAAgB,EAAE,CAAA;QAC9B,CAAC;QAED,MAAM,MAAM,2LAAG,mBAAA,AAAgB,EAAC,IAAI,EAAE;YACpC,YAAY;YACZ,SAAS,EAAE,cAAc;YACzB,UAAU,EAAE,eAAe;YAC3B,OAAO;SACR,CAAC,CAAA;QAEF,MAAM,UAAU,GAAG,qNAAA,AAAqB,EAAC,GAAG,CAAC,CAAA;QAE7C,uLAAO,kBAAA,AAAe,EACpB;YACE,GAAG;YACH,IAAI;YACJ,KAAK,CAAC,OAAO,EAAC,EAAE,MAAM,EAAE,MAAM,EAAE;gBAC9B,MAAM,IAAI,GAAG;oBAAE,MAAM;oBAAE,MAAM;gBAAA,CAAE,CAAA;gBAC/B,MAAM,aAAa,GAAG,UAAU,EAAE,CAAC,MAAuB,CAAC,CAAA;gBAC3D,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,aAAa,EAAE,CAC9C,MAAM,EACN,IAAI,EACJ,MAAM,CACP,IACC,MAAM,CAAC,OAAO,CAAC;oBACb,IAAI;iBACL,CAAC,CAAC,CAAA;gBACL,IAAI,KAAK,EAAE,CAAC;oBACV,MAAM,yJAAI,kBAAe,CAAC;wBACxB,IAAI;wBACJ,KAAK;wBACL,GAAG,EAAE,IAAI;qBACV,CAAC,CAAA;gBACJ,CAAC;gBACD,OAAO,MAAM,CAAA;YACf,CAAC;YACD,UAAU;YACV,UAAU;YACV,OAAO;YACP,IAAI,EAAE,MAAM;SACb,EACD;YACE,YAAY;YACZ,GAAG,EAAE,IAAI;SACV,CACF,CAAA;IACH,CAAC,CAAA;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1726, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1732, "column": 0}, "map": {"version":3,"file":"getBalance.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/getBalance.ts"],"sourcesContent":["import type { Account, Chain, Client, Transport } from 'viem'\nimport type { UTXOAPISchema } from '../transports/types.js'\n\nexport type GetBalanceParameters = {\n  /** The address of the account. */\n  address: string\n}\n\nexport type GetBalanceReturnType = bigint\n\nexport async function getBalance<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOAPISchema>,\n  params: GetBalanceParameters\n): Promise<GetBalanceReturnType> {\n  const data = await client.request(\n    {\n      method: 'getBalance',\n      params,\n    },\n    { dedupe: true }\n  )\n  return data\n}\n"],"names":[],"mappings":";;;AAUO,KAAK,UAAU,UAAU,CAI9B,MAA8C,EAC9C,MAA4B;IAE5B,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAC/B;QACE,MAAM,EAAE,YAAY;QACpB,MAAM;KACP,EACD;QAAE,MAAM,EAAE,IAAI;IAAA,CAAE,CACjB,CAAA;IACD,OAAO,IAAI,CAAA;AACb,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1750, "column": 0}, "map": {"version":3,"file":"UTXOAPIActions.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/decorators/UTXOAPIActions.ts"],"sourcesContent":["import type { Account, Chain, Client, Transport } from 'viem'\nimport {\n  type GetBalanceParameters,\n  type GetBalanceReturnType,\n  getBalance,\n} from '../actions/getBalance.js'\n\nexport type UTXOAPIActions = {\n  getBalance: (args: GetBalanceParameters) => Promise<GetBalanceReturnType>\n}\n\nexport function UTXOAPIActions<\n  transport extends Transport = Transport,\n  chain extends Chain | undefined = Chain | undefined,\n  account extends Account | undefined = Account | undefined,\n>(client: Client<transport, chain, account>): UTXOAPIActions {\n  return {\n    getBalance: (args) => getBalance(client, args),\n  }\n}\n"],"names":[],"mappings":";;;AACA,OAAO,EAGL,UAAU,GACX,MAAM,0BAA0B,CAAA;;AAM3B,SAAU,cAAc,CAI5B,MAAyC;IACzC,OAAO;QACL,UAAU,EAAE,CAAC,IAAI,EAAE,EAAE,8KAAC,aAAA,AAAU,EAAC,MAAM,EAAE,IAAI,CAAC;KAC/C,CAAA;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1760, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1766, "column": 0}, "map": {"version":3,"file":"getBlockCount.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/getBlockCount.ts"],"sourcesContent":["import type { Account, Chain, Client, Transport } from 'viem'\nimport type { UTXOSchema } from '../transports/types.js'\n\nexport type GetBlockCountReturnType = number\n\nexport async function getBlockCount<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOSchema>\n): Promise<GetBlockCountReturnType> {\n  const data = await client.request(\n    {\n      method: 'getblockcount',\n      params: [],\n    },\n    { dedupe: true }\n  )\n  return data\n}\n"],"names":[],"mappings":";;;AAKO,KAAK,UAAU,aAAa,CAIjC,MAA2C;IAE3C,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAC/B;QACE,MAAM,EAAE,eAAe;QACvB,MAAM,EAAE,EAAE;KACX,EACD;QAAE,MAAM,EAAE,IAAI;IAAA,CAAE,CACjB,CAAA;IACD,OAAO,IAAI,CAAA;AACb,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1778, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1784, "column": 0}, "map": {"version":3,"file":"sendUTXOTransaction.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/sendUTXOTransaction.ts"],"sourcesContent":["import type { Account, Chain, Client, Transport } from 'viem'\nimport type { UTXOSchema } from '../transports/types.js'\n\nexport type SendUTXOTransactionParameters = {\n  /** The hex string of the raw transaction. */\n  hex: string\n  /** Rejects transactions whose fee rate is higher than the specified value, expressed in BTC/kB. Set to 0 to accept any fee rate. Default = 0.10 */\n  maxFeeRate?: number\n}\n\nexport type SendUTXOTransactionReturnType = string\n\nexport async function sendUTXOTransaction<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOSchema>,\n  { hex, maxFeeRate }: SendUTXOTransactionParameters\n): Promise<SendUTXOTransactionReturnType> {\n  const params: [string, number?] = [hex]\n  if (maxFeeRate) {\n    params.push(maxFeeRate)\n  }\n  const data = await client.request({\n    method: 'sendrawtransaction',\n    params: params,\n  })\n  return data\n}\n"],"names":[],"mappings":";;;AAYO,KAAK,UAAU,mBAAmB,CAIvC,MAA2C,EAC3C,EAAE,GAAG,EAAE,UAAU,EAAiC;IAElD,MAAM,MAAM,GAAsB;QAAC,GAAG;KAAC,CAAA;IACvC,IAAI,UAAU,EAAE,CAAC;QACf,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;IACzB,CAAC;IACD,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC;QAChC,MAAM,EAAE,oBAAoB;QAC5B,MAAM,EAAE,MAAM;KACf,CAAC,CAAA;IACF,OAAO,IAAI,CAAA;AACb,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1800, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1806, "column": 0}, "map": {"version":3,"file":"getUTXOTransaction.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/getUTXOTransaction.ts"],"sourcesContent":["import {\n  type Account,\n  type Chain,\n  type Client,\n  TransactionNotFoundError,\n  type Transport,\n} from 'viem'\nimport type { UTXOSchema } from '../transports/types.js'\nimport type { UTXOTransaction } from '../types/transaction.js'\n\nexport type GetUTXOTransactionParameters = {\n  /** The Id of the transaction */\n  txId: string\n  /** The block in which to look for the transaction */\n  blockHash?: string\n}\n\nexport type GetUTXOTransactionReturnType = UTXOTransaction\n\nexport async function getUTXOTransaction<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOSchema>,\n  { txId, blockHash }: GetUTXOTransactionParameters\n): Promise<GetUTXOTransactionReturnType> {\n  try {\n    const params: [string, boolean, string?] = [txId, true]\n    if (blockHash) {\n      params.push(blockHash)\n    }\n    const data = await client.request({\n      method: 'getrawtransaction',\n      params: params,\n    })\n    return data\n  } catch (_error) {\n    throw new TransactionNotFoundError({\n      blockHash: blockHash as never,\n      hash: txId as never,\n    })\n  }\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAIL,wBAAwB,GAEzB,MAAM,MAAM,CAAA;;AAaN,KAAK,UAAU,kBAAkB,CAItC,MAA2C,EAC3C,EAAE,IAAI,EAAE,SAAS,EAAgC;IAEjD,IAAI,CAAC;QACH,MAAM,MAAM,GAA+B;YAAC,IAAI;YAAE,IAAI;SAAC,CAAA;QACvD,IAAI,SAAS,EAAE,CAAC;YACd,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;QACxB,CAAC;QACD,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC;YAChC,MAAM,EAAE,mBAAmB;YAC3B,MAAM,EAAE,MAAM;SACf,CAAC,CAAA;QACF,OAAO,IAAI,CAAA;IACb,CAAC,CAAC,OAAO,MAAM,EAAE,CAAC;QAChB,MAAM,6JAAI,2BAAwB,CAAC;YACjC,SAAS,EAAE,SAAkB;YAC7B,IAAI,EAAE,IAAa;SACpB,CAAC,CAAA;IACJ,CAAC;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1832, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"file":"UTXOActions.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/decorators/UTXOActions.ts"],"sourcesContent":["import type { Account, Chain, Client, Transport } from 'viem'\nimport {\n  type GetBlockCountReturnType,\n  getBlockCount,\n} from '../actions/getBlockCount.js'\nimport {\n  type GetUTXOTransactionParameters,\n  type GetUTXOTransactionReturnType,\n  getUTXOTransaction,\n} from '../actions/getUTXOTransaction.js'\nimport {\n  type SendUTXOTransactionParameters,\n  type SendUTXOTransactionReturnType,\n  sendUTXOTransaction,\n} from '../actions/sendUTXOTransaction.js'\n\nexport type UTXOActions = {\n  getBlockCount: () => Promise<GetBlockCountReturnType>\n  sendUTXOTransaction: (\n    args: SendUTXOTransactionParameters\n  ) => Promise<SendUTXOTransactionReturnType>\n  getUTXOTransaction: (\n    args: GetUTXOTransactionParameters\n  ) => Promise<GetUTXOTransactionReturnType>\n}\n\nexport function UTXOActions<\n  transport extends Transport = Transport,\n  chain extends Chain | undefined = Chain | undefined,\n  account extends Account | undefined = Account | undefined,\n>(client: Client<transport, chain, account>): UTXOActions {\n  return {\n    getBlockCount: () => getBlockCount(client),\n    sendUTXOTransaction: (args) => sendUTXOTransaction(client, args),\n    getUTXOTransaction: (args) => getUTXOTransaction(client, args),\n  }\n}\n"],"names":[],"mappings":";;;AACA,OAAO,EAEL,aAAa,GACd,MAAM,6BAA6B,CAAA;AAMpC,OAAO,EAGL,mBAAmB,GACpB,MAAM,mCAAmC,CAAA;AAT1C,OAAO,EAGL,kBAAkB,GACnB,MAAM,kCAAkC,CAAA;;;;AAiBnC,SAAU,WAAW,CAIzB,MAAyC;IACzC,OAAO;QACL,aAAa,EAAE,GAAG,EAAE,iLAAC,gBAAA,AAAa,EAAC,MAAM,CAAC;QAC1C,mBAAmB,EAAE,CAAC,IAAI,EAAE,EAAE,uLAAC,sBAAA,AAAmB,EAAC,MAAM,EAAE,IAAI,CAAC;QAChE,kBAAkB,EAAE,CAAC,IAAI,EAAE,EAAE,sLAAC,qBAAA,AAAkB,EAAC,MAAM,EAAE,IAAI,CAAC;KAC/D,CAAA;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1854, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1860, "column": 0}, "map": {"version":3,"file":"signPsbt.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/signPsbt.ts"],"sourcesContent":["import type { Account, Chain, Client, Transport } from 'viem'\nimport type {\n  SignPsbtParameters,\n  SignPsbtReturnType,\n  UTXOWalletSchema,\n} from '../clients/types.js'\n\nexport async function signPsbt<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOWalletSchema>,\n  params: SignPsbtParameters\n): Promise<SignPsbtReturnType> {\n  const data = await client.request(\n    {\n      method: 'signPsbt',\n      params: params,\n    },\n    { dedupe: true }\n  )\n  return data\n}\n"],"names":[],"mappings":";;;AAOO,KAAK,UAAU,QAAQ,CAI5B,MAAiD,EACjD,MAA0B;IAE1B,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAC/B;QACE,MAAM,EAAE,UAAU;QAClB,MAAM,EAAE,MAAM;KACf,EACD;QAAE,MAAM,EAAE,IAAI;IAAA,CAAE,CACjB,CAAA;IACD,OAAO,IAAI,CAAA;AACb,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1872, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1878, "column": 0}, "map": {"version":3,"file":"observe.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/utils/observe.ts"],"sourcesContent":["import type { MaybePromise } from 'viem'\n\ntype Callback = ((...args: any[]) => any) | undefined\ntype Callbacks = Record<string, Callback>\n\n/** @internal */\nexport const listenersCache = /*#__PURE__*/ new Map<\n  string,\n  { id: number; fns: Callbacks }[]\n>()\n/** @internal */\nexport const cleanupCache = /*#__PURE__*/ new Map<string, () => void>()\n\ntype EmitFunction<callbacks extends Callbacks> = (\n  emit: callbacks\n) => MaybePromise<void | (() => void)>\n\nlet callbackCount = 0\n\n/**\n * @description Sets up an observer for a given function. If another function\n * is set up under the same observer id, the function will only be called once\n * for both instances of the observer.\n */\nexport function observe<callbacks extends Callbacks>(\n  observerId: string,\n  callbacks: callbacks,\n  fn: EmitFunction<callbacks>\n) {\n  const callbackId = ++callbackCount\n\n  const getListeners = () => listenersCache.get(observerId) || []\n\n  const unsubscribe = () => {\n    const listeners = getListeners()\n    listenersCache.set(\n      observerId,\n      listeners.filter((cb: any) => cb.id !== callbackId)\n    )\n  }\n\n  const unwatch = () => {\n    const cleanup = cleanupCache.get(observerId)\n    if (getListeners().length === 1 && cleanup) {\n      cleanup()\n    }\n    unsubscribe()\n  }\n\n  const listeners = getListeners()\n  listenersCache.set(observerId, [\n    ...listeners,\n    { id: callbackId, fns: callbacks },\n  ])\n\n  if (listeners && listeners.length > 0) {\n    return unwatch\n  }\n\n  const emit: callbacks = {} as callbacks\n  for (const key in callbacks) {\n    emit[key] = ((\n      ...args: Parameters<NonNullable<callbacks[keyof callbacks]>>\n    ) => {\n      const listeners = getListeners()\n      if (listeners.length === 0) {\n        return\n      }\n      for (const listener of listeners) {\n        listener.fns[key]?.(...args)\n      }\n    }) as callbacks[Extract<keyof callbacks, string>]\n  }\n\n  const cleanup = fn(emit)\n  if (typeof cleanup === 'function') {\n    cleanupCache.set(observerId, cleanup)\n  }\n\n  return unwatch\n}\n"],"names":[],"mappings":"AAKA,cAAA,EAAgB;;;;;AACT,MAAM,cAAc,GAAG,WAAA,EAAa,CAAC,IAAI,GAAG,EAGhD,CAAA;AAEI,MAAM,YAAY,GAAG,WAAA,EAAa,CAAC,IAAI,GAAG,EAAsB,CAAA;AAMvE,IAAI,aAAa,GAAG,CAAC,CAAA;AAOf,SAAU,OAAO,CACrB,UAAkB,EAClB,SAAoB,EACpB,EAA2B;IAE3B,MAAM,UAAU,GAAG,EAAE,aAAa,CAAA;IAElC,MAAM,YAAY,GAAG,GAAG,CAAG,CAAD,aAAe,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAA;IAE/D,MAAM,WAAW,GAAG,GAAG,EAAE;QACvB,MAAM,SAAS,GAAG,YAAY,EAAE,CAAA;QAChC,cAAc,CAAC,GAAG,CAChB,UAAU,EACV,SAAS,CAAC,MAAM,CAAC,CAAC,EAAO,EAAE,CAAG,CAAD,CAAG,CAAC,EAAE,KAAK,UAAU,CAAC,CACpD,CAAA;IACH,CAAC,CAAA;IAED,MAAM,OAAO,GAAG,GAAG,EAAE;QACnB,MAAM,OAAO,GAAG,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;QAC5C,IAAI,YAAY,EAAE,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,EAAE,CAAC;YAC3C,OAAO,EAAE,CAAA;QACX,CAAC;QACD,WAAW,EAAE,CAAA;IACf,CAAC,CAAA;IAED,MAAM,SAAS,GAAG,YAAY,EAAE,CAAA;IAChC,cAAc,CAAC,GAAG,CAAC,UAAU,EAAE;WAC1B,SAAS;QACZ;YAAE,EAAE,EAAE,UAAU;YAAE,GAAG,EAAE,SAAS;QAAA,CAAE;KACnC,CAAC,CAAA;IAEF,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACtC,OAAO,OAAO,CAAA;IAChB,CAAC;IAED,MAAM,IAAI,GAAc,CAAA,CAAe,CAAA;IACvC,IAAK,MAAM,GAAG,IAAI,SAAS,CAAE,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,AAAC,CACX,GAAG,IAAyD,EAC5D,EAAE;YACF,MAAM,SAAS,GAAG,YAAY,EAAE,CAAA;YAChC,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC3B,OAAM;YACR,CAAC;YACD,KAAK,MAAM,QAAQ,IAAI,SAAS,CAAE,CAAC;gBACjC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAA;YAC9B,CAAC;QACH,CAAC,CAAgD,CAAA;IACnD,CAAC;IAED,MAAM,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,CAAA;IACxB,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE,CAAC;QAClC,YAAY,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAA;IACvC,CAAC;IAED,OAAO,OAAO,CAAA;AAChB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1929, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1935, "column": 0}, "map": {"version":3,"file":"sleep.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/utils/sleep.ts"],"sourcesContent":["export function sleep(ms: number): Promise<null> {\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(null), ms)\n  })\n}\n"],"names":[],"mappings":";;;AAAM,SAAU,KAAK,CAAC,EAAU;IAC9B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;QAC7B,UAAU,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAA;IACrC,CAAC,CAAC,CAAA;AACJ,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1943, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1949, "column": 0}, "map": {"version":3,"file":"poll.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/utils/poll.ts"],"sourcesContent":["import { sleep } from './sleep.js'\n\ntype PollOptions<T> = {\n  // Whether or not to emit when the polling starts.\n  emitOnBegin?: boolean | undefined\n  // The initial wait time (in ms) before polling.\n  initialWaitTime?: ((data: T | undefined) => Promise<number>) | undefined\n  // The interval (in ms).\n  interval: number\n}\n\n/**\n * @description Polls a function at a specified interval.\n */\nexport function poll<T>(\n  fn: ({ unpoll }: { unpoll: () => void }) => Promise<T | undefined>,\n  { emitOnBegin, initialWaitTime, interval }: PollOptions<T>\n) {\n  let active = true\n\n  const unwatch = () => {\n    active = false\n  }\n\n  const watch = async () => {\n    let data: T | undefined = undefined\n    if (emitOnBegin) {\n      data = await fn({ unpoll: unwatch })\n    }\n\n    const initialWait = (await initialWaitTime?.(data)) ?? interval\n    await sleep(initialWait)\n\n    const poll = async () => {\n      if (!active) {\n        return\n      }\n      await fn({ unpoll: unwatch })\n      await sleep(interval)\n      poll()\n    }\n\n    poll()\n  }\n  watch()\n\n  return unwatch\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,YAAY,CAAA;;AAc5B,SAAU,IAAI,CAClB,EAAkE,EAClE,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAkB;IAE1D,IAAI,MAAM,GAAG,IAAI,CAAA;IAEjB,MAAM,OAAO,GAAG,GAAG,EAAE;QACnB,MAAM,GAAG,KAAK,CAAA;IAChB,CAAC,CAAA;IAED,MAAM,KAAK,GAAG,KAAK,IAAI,EAAE;QACvB,IAAI,IAAI,GAAkB,SAAS,CAAA;QACnC,IAAI,WAAW,EAAE,CAAC;YAChB,IAAI,GAAG,MAAM,EAAE,CAAC;gBAAE,MAAM,EAAE,OAAO;YAAA,CAAE,CAAC,CAAA;QACtC,CAAC;QAED,MAAM,WAAW,GAAG,AAAC,MAAM,eAAe,EAAE,CAAC,IAAI,CAAC,CAAC,GAAI,QAAQ,CAAA;QAC/D,OAAM,+KAAA,AAAK,EAAC,WAAW,CAAC,CAAA;QAExB,MAAM,IAAI,GAAG,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAM;YACR,CAAC;YACD,MAAM,EAAE,CAAC;gBAAE,MAAM,EAAE,OAAO;YAAA,CAAE,CAAC,CAAA;YAC7B,8KAAM,QAAA,AAAK,EAAC,QAAQ,CAAC,CAAA;YACrB,IAAI,EAAE,CAAA;QACR,CAAC,CAAA;QAED,IAAI,EAAE,CAAA;IACR,CAAC,CAAA;IACD,KAAK,EAAE,CAAA;IAEP,OAAO,OAAO,CAAA;AAChB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1983, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1989, "column": 0}, "map": {"version":3,"file":"watchBlockNumber.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/watchBlockNumber.ts"],"sourcesContent":["import { type Chain, type Client, type Transport, stringify } from 'viem'\nimport { getAction } from 'viem/utils'\nimport { observe } from '../utils/observe.js'\nimport { poll } from '../utils/poll.js'\nimport { type GetBlockCountReturnType, getBlockCount } from './getBlockCount.js'\n\nexport type OnBlockNumberParameter = GetBlockCountReturnType\nexport type OnBlockNumberFn = (\n  blockNumber: OnBlockNumberParameter,\n  prevBlockNumber: OnBlockNumberParameter | undefined\n) => Promise<void>\n\nexport type WatchBlockNumberParameters = {\n  /** The callback to call when a new block number is received. */\n  onBlockNumber: OnBlockNumberFn\n  /** The callback to call when an error occurred when trying to get for a new block. */\n  onError?: ((error: Error) => void) | undefined\n} & {\n  /** Whether or not to emit the missed block numbers to the callback. */\n  emitMissed?: boolean | undefined\n  /** Whether or not to emit the latest block number to the callback when the subscription opens. */\n  emitOnBegin?: boolean | undefined\n  /** Polling frequency (in ms). Defaults to Client's pollingInterval config. */\n  pollingInterval?: number | undefined\n}\n\nexport type WatchBlockNumberReturnType = () => void\n\n/**\n * Watches and returns incoming block numbers.\n * @param client - Client to use\n * @param parameters - {@link WatchBlockNumberParameters}\n * @returns A function that can be invoked to stop watching for new block numbers. {@link WatchBlockNumberReturnType}\n */\nexport function watchBlockNumber<\n  chain extends Chain | undefined,\n  transport extends Transport,\n>(\n  client: Client<transport, chain>,\n  {\n    emitOnBegin = false,\n    emitMissed = false,\n    onBlockNumber,\n    onError,\n    pollingInterval = client.pollingInterval,\n  }: WatchBlockNumberParameters\n): WatchBlockNumberReturnType {\n  let prevBlockNumber: GetBlockCountReturnType | undefined\n\n  const observerId = stringify([\n    'watchBlockNumber',\n    client.uid,\n    emitOnBegin,\n    emitMissed,\n    pollingInterval,\n  ])\n\n  // TODO (edge cases):\n  // 1) Stop iterating block numbers if we are happy with the result of one onBlockNumber execution but there is more in the queue.\n  // 2) If we missed some time - user closed the page and came back when the block is already mined.\n  // In this case we probably want to save the block when we send the transaction and track the currently checked blocks until we find the relevant one.\n  return observe(observerId, { onBlockNumber, onError }, (emit) =>\n    poll(\n      async () => {\n        try {\n          const blockNumber = await getAction(\n            client,\n            getBlockCount,\n            'getBlockCount'\n          )({ cacheTime: 0 })\n\n          if (prevBlockNumber) {\n            // If the current block number is the same as the previous,\n            // we can skip.\n            if (blockNumber === prevBlockNumber) {\n              return\n            }\n\n            // If we have missed out on some previous blocks, and the\n            // `emitMissed` flag is truthy, let's emit those blocks.\n            if (blockNumber - prevBlockNumber > 1 && emitMissed) {\n              for (let i = prevBlockNumber + 1; i < blockNumber; i++) {\n                await emit.onBlockNumber(i, prevBlockNumber)\n                prevBlockNumber = i\n              }\n            }\n          }\n\n          // If the next block number is greater than the previous,\n          // it is not in the past, and we can emit the new block number.\n          if (!prevBlockNumber || blockNumber > prevBlockNumber) {\n            await emit.onBlockNumber(blockNumber, prevBlockNumber)\n            prevBlockNumber = blockNumber\n          }\n        } catch (err) {\n          emit.onError?.(err as Error)\n        }\n      },\n      {\n        emitOnBegin,\n        interval: pollingInterval,\n      }\n    )\n  )\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAA2C,SAAS,EAAE,MAAM,MAAM,CAAA;AAEzE,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAA;AAC7C,OAAO,EAAE,IAAI,EAAE,MAAM,kBAAkB,CAAA;AAFvC,OAAO,EAAE,SAAS,EAAE,MAAM,YAAY,CAAA;AAGtC,OAAO,EAAgC,aAAa,EAAE,MAAM,oBAAoB,CAAA;;;;;;AA8B1E,SAAU,gBAAgB,CAI9B,MAAgC,EAChC,EACE,WAAW,GAAG,KAAK,EACnB,UAAU,GAAG,KAAK,EAClB,aAAa,EACb,OAAO,EACP,eAAe,GAAG,MAAM,CAAC,eAAe,EACb;IAE7B,IAAI,eAAoD,CAAA;IAExD,MAAM,UAAU,6JAAG,YAAA,AAAS,EAAC;QAC3B,kBAAkB;QAClB,MAAM,CAAC,GAAG;QACV,WAAW;QACX,UAAU;QACV,eAAe;KAChB,CAAC,CAAA;IAEF,qBAAqB;IACrB,iIAAiI;IACjI,kGAAkG;IAClG,sJAAsJ;IACtJ,OAAO,oLAAA,AAAO,EAAC,UAAU,EAAE;QAAE,aAAa;QAAE,OAAO;IAAA,CAAE,EAAE,CAAC,IAAI,EAAE,EAAE,sKAC9D,OAAA,AAAI,EACF,KAAK,IAAI,EAAE;YACT,IAAI,CAAC;gBACH,MAAM,WAAW,GAAG,gKAAM,YAAA,AAAS,EACjC,MAAM,gLACN,gBAAa,EACb,eAAe,CAChB,CAAC;oBAAE,SAAS,EAAE,CAAC;gBAAA,CAAE,CAAC,CAAA;gBAEnB,IAAI,eAAe,EAAE,CAAC;oBACpB,2DAA2D;oBAC3D,eAAe;oBACf,IAAI,WAAW,KAAK,eAAe,EAAE,CAAC;wBACpC,OAAM;oBACR,CAAC;oBAED,yDAAyD;oBACzD,wDAAwD;oBACxD,IAAI,WAAW,GAAG,eAAe,GAAG,CAAC,IAAI,UAAU,EAAE,CAAC;wBACpD,IAAK,IAAI,CAAC,GAAG,eAAe,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,CAAE,CAAC;4BACvD,MAAM,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,eAAe,CAAC,CAAA;4BAC5C,eAAe,GAAG,CAAC,CAAA;wBACrB,CAAC;oBACH,CAAC;gBACH,CAAC;gBAED,yDAAyD;gBACzD,+DAA+D;gBAC/D,IAAI,CAAC,eAAe,IAAI,WAAW,GAAG,eAAe,EAAE,CAAC;oBACtD,MAAM,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,eAAe,CAAC,CAAA;oBACtD,eAAe,GAAG,WAAW,CAAA;gBAC/B,CAAC;YACH,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC;gBACb,IAAI,CAAC,OAAO,EAAE,CAAC,GAAY,CAAC,CAAA;YAC9B,CAAC;QACH,CAAC,EACD;YACE,WAAW;YACX,QAAQ,EAAE,eAAe;SAC1B,CACF,CACF,CAAA;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2052, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2058, "column": 0}, "map": {"version":3,"file":"getBlockStats.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/getBlockStats.ts"],"sourcesContent":["import {\n  type Account,\n  BlockNotFoundError,\n  type Chain,\n  type Client,\n  type Transport,\n} from 'viem'\nimport type { UTXOSchema } from '../transports/types.js'\nimport type { BlockStats, BlockStatsKeys } from '../types/blockStats.js'\n\nexport type GetBlockStatsParameters = (\n  | {\n      blockHash: string\n      blockNumber?: never\n    }\n  | {\n      blockHash?: never\n      blockNumber: number\n    }\n) & {\n  stats?: Array<BlockStatsKeys>\n}\n\nexport type GetBlockStatsReturnType = BlockStats\n\nexport async function getBlockStats<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOSchema>,\n  { blockHash, blockNumber, stats }: GetBlockStatsParameters\n): Promise<GetBlockStatsReturnType> {\n  const blockHashOrNumber = blockHash || blockNumber\n  if (!blockHashOrNumber) {\n    throw new BlockNotFoundError({ blockHash, blockNumber } as never)\n  }\n  try {\n    const params: [string | number, Array<BlockStatsKeys>?] = [\n      blockHashOrNumber,\n    ]\n    if (stats) {\n      params.push(stats)\n    }\n    const data = await client.request(\n      {\n        method: 'getblockstats',\n        params: params,\n      },\n      { dedupe: true }\n    )\n    return data\n  } catch (_error) {\n    throw new BlockNotFoundError({ blockHash, blockNumber } as never)\n  }\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAEL,kBAAkB,GAInB,MAAM,MAAM,CAAA;;AAmBN,KAAK,UAAU,aAAa,CAIjC,MAA2C,EAC3C,EAAE,SAAS,EAAE,WAAW,EAAE,KAAK,EAA2B;IAE1D,MAAM,iBAAiB,GAAG,SAAS,IAAI,WAAW,CAAA;IAClD,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACvB,MAAM,uJAAI,qBAAkB,CAAC;YAAE,SAAS;YAAE,WAAW;QAAA,CAAW,CAAC,CAAA;IACnE,CAAC;IACD,IAAI,CAAC;QACH,MAAM,MAAM,GAA8C;YACxD,iBAAiB;SAClB,CAAA;QACD,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;QACpB,CAAC;QACD,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,OAAO,CAC/B;YACE,MAAM,EAAE,eAAe;YACvB,MAAM,EAAE,MAAM;SACf,EACD;YAAE,MAAM,EAAE,IAAI;QAAA,CAAE,CACjB,CAAA;QACD,OAAO,IAAI,CAAA;IACb,CAAC,CAAC,OAAO,MAAM,EAAE,CAAC;QAChB,MAAM,uJAAI,qBAAkB,CAAC;YAAE,SAAS;YAAE,WAAW;QAAA,CAAW,CAAC,CAAA;IACnE,CAAC;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"file":"getBlock.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/getBlock.ts"],"sourcesContent":["import { Block } from 'bitcoinjs-lib'\nimport {\n  type Account,\n  BlockNotFoundError,\n  type Chain,\n  type Client,\n  type Transport,\n} from 'viem'\nimport type { UTXOSchema } from '../transports/types.js'\n\nexport type GetBlockParameters =\n  | {\n      blockHash: string\n      blockNumber?: never\n    }\n  | {\n      blockHash?: never\n      blockNumber: number\n    }\n\nexport type GetBlockReturnType = Block\n\nexport async function getBlock<\n  C extends Chain | undefined,\n  A extends Account | undefined = Account | undefined,\n>(\n  client: Client<Transport, C, A, UTXOSchema>,\n  { blockHash, blockNumber }: GetBlockParameters\n): Promise<GetBlockReturnType> {\n  let blockHex: string | undefined\n  try {\n    let _blockHash = blockHash\n    if (!_blockHash && blockNumber) {\n      _blockHash = await client.request(\n        {\n          method: 'getblockhash',\n          params: [blockNumber],\n        },\n        { dedupe: true }\n      )\n    }\n    if (_blockHash) {\n      blockHex = await client.request(\n        {\n          method: 'getblock',\n          params: [_blockHash, 0],\n        },\n        { dedupe: true }\n      )\n    }\n  } catch (_error) {\n    throw new BlockNotFoundError({ blockHash, blockNumber } as never)\n  }\n  if (!blockHex) {\n    throw new BlockNotFoundError({ blockHash, blockNumber } as never)\n  }\n  return Block.fromHex(blockHex)\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,eAAe,CAAA;AACrC,OAAO,EAEL,kBAAkB,GAInB,MAAM,MAAM,CAAA;;;;AAeN,KAAK,UAAU,QAAQ,CAI5B,MAA2C,EAC3C,EAAE,SAAS,EAAE,WAAW,EAAsB;IAE9C,IAAI,QAA4B,CAAA;IAChC,IAAI,CAAC;QACH,IAAI,UAAU,GAAG,SAAS,CAAA;QAC1B,IAAI,CAAC,UAAU,IAAI,WAAW,EAAE,CAAC;YAC/B,UAAU,GAAG,MAAM,MAAM,CAAC,OAAO,CAC/B;gBACE,MAAM,EAAE,cAAc;gBACtB,MAAM,EAAE;oBAAC,WAAW;iBAAC;aACtB,EACD;gBAAE,MAAM,EAAE,IAAI;YAAA,CAAE,CACjB,CAAA;QACH,CAAC;QACD,IAAI,UAAU,EAAE,CAAC;YACf,QAAQ,GAAG,MAAM,MAAM,CAAC,OAAO,CAC7B;gBACE,MAAM,EAAE,UAAU;gBAClB,MAAM,EAAE;oBAAC,UAAU;oBAAE,CAAC;iBAAC;aACxB,EACD;gBAAE,MAAM,EAAE,IAAI;YAAA,CAAE,CACjB,CAAA;QACH,CAAC;IACH,CAAC,CAAC,OAAO,MAAM,EAAE,CAAC;QAChB,MAAM,uJAAI,qBAAkB,CAAC;YAAE,SAAS;YAAE,WAAW;QAAA,CAAW,CAAC,CAAA;IACnE,CAAC;IACD,IAAI,CAAC,QAAQ,EAAE,CAAC;QACd,MAAM,uJAAI,qBAAkB,CAAC;YAAE,SAAS;YAAE,WAAW;QAAA,CAAW,CAAC,CAAA;IACnE,CAAC;IACD,kKAAO,QAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;AAChC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2145, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2151, "column": 0}, "map": {"version":3,"file":"waitForTransaction.js","sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40bigmi/core/src/actions/waitForTransaction.ts"],"sourcesContent":["import { Transaction, address } from 'bitcoinjs-lib'\nimport {\n  type Chain,\n  type Client,\n  TransactionNotFoundError,\n  TransactionReceiptNotFoundError,\n  type Transport,\n  WaitForTransactionReceiptTimeoutError,\n  stringify,\n  withRetry,\n} from 'viem'\nimport { getAction } from 'viem/utils'\nimport type { UTXOTransaction } from '../types/transaction.js'\nimport { observe } from '../utils/observe.js'\nimport { getBlock } from './getBlock.js'\nimport { getBlockStats } from './getBlockStats.js'\nimport { getUTXOTransaction } from './getUTXOTransaction.js'\nimport { watchBlockNumber } from './watchBlockNumber.js'\n\nexport type ReplacementReason = 'cancelled' | 'replaced' | 'repriced'\nexport type ReplacementReturnType = {\n  reason: ReplacementReason\n  replacedTransaction: Transaction\n  transaction: UTXOTransaction\n}\n\nexport type WaitForTransactionReceiptReturnType = UTXOTransaction\n\nexport type WithRetryParameters = {\n  // The delay (in ms) between retries.\n  delay?:\n    | ((config: { count: number; error: Error }) => number)\n    | number\n    | undefined\n  // The max number of times to retry.\n  retryCount?: number | undefined\n}\n\nexport type WaitForTransactionReceiptParameters = {\n  /** The Id of the transaction. */\n  txId: string\n  /** The hex string of the raw transaction. */\n  txHex: string\n  /** The sender address of the transaction. */\n  senderAddress?: string\n  /**\n   * The number of confirmations (blocks that have passed) to wait before resolving.\n   * @default 1\n   */\n  confirmations?: number | undefined\n  /** Optional callback to emit if the transaction has been replaced. */\n  onReplaced?: ((response: ReplacementReturnType) => void) | undefined\n  /**\n   * Polling frequency (in ms). Defaults to the client's pollingInterval config.\n   * @default client.pollingInterval\n   */\n  pollingInterval?: number | undefined\n  /**\n   * Number of times to retry if the transaction or block is not found.\n   * @default 6 (exponential backoff)\n   */\n  retryCount?: number\n  /**\n   * Time to wait (in ms) between retries.\n   */\n  retryDelay?: ((config: { count: number; error: Error }) => number) | number\n  /** Optional timeout (in milliseconds) to wait before stopping polling. */\n  timeout?: number | undefined\n}\n\n/**\n * Waits for the transaction to be included on a block (one confirmation), and then returns the transaction.\n * - JSON-RPC Methods:\n * - Polls getrawtransaction on each block until it has been processed.\n * - If a transaction has been replaced:\n * - Calls getblock and extracts the transactions\n * - Checks if one of the transactions is a replacement\n * - If so, calls getrawtransaction.\n *\n * The `waitForTransaction` action additionally supports replacement detection (e.g. RBF - transactions replaced-by-fee ).\n *\n * Transactions can be replaced when a user modifies their transaction in their wallet (to speed up or cancel).\n * https://bitcoinops.org/en/topics/replace-by-fee/\n *\n * There are 3 types of Transaction Replacement reasons:\n *\n * - `repriced`: The fee has been modified (e.g. same outputs, different amounts)\n * - `cancelled`: The Transaction has been cancelled (e.g. output is sender address)\n * - `replaced`: The Transaction has been replaced (e.g. different outputs)\n * @param client - Client to use\n * @param parameters - {@link WaitForTransactionReceiptParameters}\n * @returns The UTXO transaction. {@link WaitForTransactionReceiptReturnType}\n */\nexport async function waitForTransaction<chain extends Chain | undefined>(\n  client: Client<Transport, chain>,\n  {\n    confirmations = 1,\n    txId,\n    txHex,\n    senderAddress,\n    onReplaced,\n    pollingInterval = client.pollingInterval,\n    retryCount = 10,\n    retryDelay = 3_000,\n    timeout,\n  }: WaitForTransactionReceiptParameters\n): Promise<WaitForTransactionReceiptReturnType> {\n  const observerId = stringify(['waitForTransaction', client.uid, txId])\n\n  let count = 0\n  let transaction: UTXOTransaction | undefined\n  let replacedTransaction: Transaction | undefined\n  let retrying = false\n\n  return new Promise((resolve, reject) => {\n    if (timeout) {\n      setTimeout(\n        () =>\n          reject(\n            new WaitForTransactionReceiptTimeoutError({ hash: txId as never })\n          ),\n        timeout\n      )\n    }\n\n    const _unobserve = observe(\n      observerId,\n      { onReplaced, resolve, reject },\n      (emit) => {\n        const _unwatch = getAction(\n          client,\n          watchBlockNumber,\n          'watchBlockNumber'\n        )({\n          emitMissed: true,\n          emitOnBegin: true,\n          pollingInterval,\n          async onBlockNumber(blockNumber_) {\n            const done = (fn: () => void) => {\n              _unwatch()\n              fn()\n              _unobserve()\n            }\n\n            let blockNumber = blockNumber_\n\n            if (retrying) {\n              return\n            }\n            if (count > retryCount) {\n              done(() =>\n                emit.reject(\n                  new WaitForTransactionReceiptTimeoutError({\n                    hash: txId as never,\n                  })\n                )\n              )\n            }\n\n            try {\n              // If we already have a valid receipt, let's check if we have enough\n              // confirmations. If we do, then we can resolve.\n              if (transaction?.blockhash) {\n                const blockStats = await getAction(\n                  client,\n                  getBlockStats,\n                  'getBlockStats'\n                )({\n                  blockHash: transaction.blockhash,\n                  stats: ['height'],\n                })\n                if (\n                  confirmations > 1 &&\n                  (!blockStats.height ||\n                    blockNumber - blockStats.height + 1 < confirmations)\n                ) {\n                  return\n                }\n                done(() => emit.resolve(transaction!))\n                return\n              }\n\n              // Get the transaction to check if it's been replaced.\n              // We need to retry as some RPC Providers may be slow to sync\n              // up mined transactions.\n              retrying = true\n              transaction = await withRetry(\n                () =>\n                  getAction(\n                    client,\n                    getUTXOTransaction,\n                    'getUTXOTransaction'\n                    // If transaction exists it might be the replaced one with different txId\n                  )({ txId: transaction?.txid || txId }),\n                {\n                  delay: retryDelay,\n                  retryCount,\n                }\n              )\n              if (transaction.blockhash) {\n                const blockStats = await getAction(\n                  client,\n                  getBlockStats,\n                  'getBlockStats'\n                )({\n                  blockHash: transaction.blockhash,\n                  stats: ['height'],\n                })\n                if (blockStats.height) {\n                  blockNumber = blockStats.height\n                }\n              }\n              retrying = false\n\n              // Check if transaction has been processed.\n              if (!transaction?.confirmations) {\n                throw new TransactionReceiptNotFoundError({\n                  hash: txId as never,\n                })\n              }\n\n              // Check if we have enough confirmations. If not, continue polling.\n              if (transaction.confirmations < confirmations) {\n                return\n              }\n\n              done(() => emit.resolve(transaction!))\n            } catch (err) {\n              // If the receipt is not found, the transaction will be pending.\n              // We need to check if it has potentially been replaced.\n              if (\n                err instanceof TransactionNotFoundError ||\n                err instanceof TransactionReceiptNotFoundError\n              ) {\n                try {\n                  replacedTransaction = Transaction.fromHex(\n                    transaction?.hex || txHex\n                  )\n\n                  // Let's retrieve the transactions from the current block.\n                  // We need to retry as some RPC Providers may be slow to sync\n                  // up mined blocks.\n                  retrying = true\n                  const block = await withRetry(\n                    () =>\n                      getAction(\n                        client,\n                        getBlock,\n                        'getBlock'\n                      )({\n                        blockNumber,\n                      }),\n                    {\n                      delay: retryDelay,\n                      retryCount,\n                      // shouldRetry: ({ error }) =>\n                      //   error instanceof BlockNotFoundError,\n                    }\n                  )\n                  retrying = false\n\n                  // Create a set of input identifiers for mempool transaction\n                  const replacedTransactionInputs = new Set<string>()\n\n                  for (const input of replacedTransaction.ins) {\n                    const txid = Array.from(input.hash)\n                      .reverse()\n                      .map((byte) => `00${byte.toString(16)}`.slice(-2))\n                      .join('')\n                    const vout = input.index\n                    const inputId = `${txid}:${vout}`\n                    replacedTransactionInputs.add(inputId)\n                  }\n\n                  let replacementTransaction: Transaction | undefined\n\n                  for (const tx of block.transactions!) {\n                    if (tx.isCoinbase()) {\n                      continue\n                    }\n\n                    // Check if any input of this transaction matches an input of mempool transaction\n                    for (const input of tx.ins) {\n                      const txid = Array.from(input.hash)\n                        .reverse()\n                        .map((byte) => `00${byte.toString(16)}`.slice(-2))\n                        .join('')\n                      const vout = input.index\n                      const inputId = `${txid}:${vout}`\n                      if (replacedTransactionInputs.has(inputId)) {\n                        replacementTransaction = tx\n                        break\n                      }\n                    }\n                    if (replacementTransaction) {\n                      break\n                    }\n                  }\n\n                  // If we couldn't find a replacement transaction, continue polling.\n                  if (!replacementTransaction) {\n                    return\n                  }\n\n                  // If we found a replacement transaction, return it's receipt.\n                  transaction = await getAction(\n                    client,\n                    getUTXOTransaction,\n                    'getUTXOTransaction'\n                  )({\n                    txId: replacementTransaction.getId(),\n                  })\n\n                  // Check if we have enough confirmations. If not, continue polling.\n                  if (\n                    transaction.confirmations &&\n                    transaction.confirmations < confirmations\n                  ) {\n                    return\n                  }\n\n                  let reason: ReplacementReason = 'replaced'\n\n                  // Function to get output addresses\n                  function getOutputAddresses(tx: Transaction): string[] {\n                    const addresses: string[] = []\n                    for (const output of tx.outs) {\n                      try {\n                        const outputAddress = address.fromOutputScript(\n                          output.script\n                        )\n                        addresses.push(outputAddress)\n                      } catch (_e) {\n                        // Handle non-standard scripts (e.g., OP_RETURN)\n                      }\n                    }\n                    return addresses\n                  }\n\n                  // Get the recipient addresses from the original transaction\n                  const originalOutputAddresses =\n                    getOutputAddresses(replacedTransaction)\n\n                  // Get the recipient addresses from the replacement transaction\n                  const replacementOutputAddresses = getOutputAddresses(\n                    replacementTransaction\n                  )\n\n                  if (\n                    originalOutputAddresses.length ===\n                      replacementOutputAddresses.length &&\n                    originalOutputAddresses.every((address) =>\n                      replacementOutputAddresses.includes(address)\n                    )\n                  ) {\n                    reason = 'repriced'\n                  } else if (\n                    senderAddress &&\n                    replacementOutputAddresses.length === 1 &&\n                    replacementOutputAddresses.includes(senderAddress)\n                  ) {\n                    reason = 'cancelled'\n                  }\n\n                  done(() => {\n                    emit.onReplaced?.({\n                      reason,\n                      replacedTransaction: replacedTransaction!,\n                      transaction: transaction!,\n                    })\n                    emit.resolve(transaction!)\n                  })\n                } catch (err_) {\n                  done(() => emit.reject(err_))\n                }\n              } else {\n                done(() => emit.reject(err))\n              }\n            } finally {\n              count++\n            }\n          },\n        })\n      }\n    )\n  })\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2364, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}