{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40solana-mobile/mobile-wallet-adapter-protocol-web3js/node_modules/base-x/src/index.js"],"sourcesContent":["'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) {\n    } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = new Uint8Array(zeroes + (size - it4))\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40solana-mobile/mobile-wallet-adapter-protocol-web3js/node_modules/bs58/index.js"],"sourcesContent":["const basex = require('base-x')\nconst ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n"],"names":[],"mappings":"AAAA,MAAM;AACN,MAAM,WAAW;AAEjB,OAAO,OAAO,GAAG,MAAM","ignoreList":[0]}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40solana-mobile/mobile-wallet-adapter-protocol-web3js/node_modules/%40solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.js"],"sourcesContent":["import { createSignInMessageText } from '@solana/wallet-standard-util';\n\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nconst SolanaMobileWalletAdapterErrorCode = {\n    ERROR_ASSOCIATION_PORT_OUT_OF_RANGE: 'ERROR_ASSOCIATION_PORT_OUT_OF_RANGE',\n    ERROR_REFLECTOR_ID_OUT_OF_RANGE: 'ERROR_REFLECTOR_ID_OUT_OF_RANGE',\n    ERROR_FORBIDDEN_WALLET_BASE_URL: 'ERROR_FORBIDDEN_WALLET_BASE_URL',\n    ERROR_SECURE_CONTEXT_REQUIRED: 'ERROR_SECURE_CONTEXT_REQUIRED',\n    ERROR_SESSION_CLOSED: 'ERROR_SESSION_CLOSED',\n    ERROR_SESSION_TIMEOUT: 'ERROR_SESSION_TIMEOUT',\n    ERROR_WALLET_NOT_FOUND: 'ERROR_WALLET_NOT_FOUND',\n    ERROR_INVALID_PROTOCOL_VERSION: 'ERROR_INVALID_PROTOCOL_VERSION',\n};\nclass SolanaMobileWalletAdapterError extends Error {\n    constructor(...args) {\n        const [code, message, data] = args;\n        super(message);\n        this.code = code;\n        this.data = data;\n        this.name = 'SolanaMobileWalletAdapterError';\n    }\n}\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nconst SolanaMobileWalletAdapterProtocolErrorCode = {\n    // Keep these in sync with `mobilewalletadapter/common/ProtocolContract.java`.\n    ERROR_AUTHORIZATION_FAILED: -1,\n    ERROR_INVALID_PAYLOADS: -2,\n    ERROR_NOT_SIGNED: -3,\n    ERROR_NOT_SUBMITTED: -4,\n    ERROR_TOO_MANY_PAYLOADS: -5,\n    ERROR_ATTEST_ORIGIN_ANDROID: -100,\n};\nclass SolanaMobileWalletAdapterProtocolError extends Error {\n    constructor(...args) {\n        const [jsonRpcMessageId, code, message, data] = args;\n        super(message);\n        this.code = code;\n        this.data = data;\n        this.jsonRpcMessageId = jsonRpcMessageId;\n        this.name = 'SolanaMobileWalletAdapterProtocolError';\n    }\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nfunction createHelloReq(ecdhPublicKey, associationKeypairPrivateKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const publicKeyBuffer = yield crypto.subtle.exportKey('raw', ecdhPublicKey);\n        const signatureBuffer = yield crypto.subtle.sign({ hash: 'SHA-256', name: 'ECDSA' }, associationKeypairPrivateKey, publicKeyBuffer);\n        const response = new Uint8Array(publicKeyBuffer.byteLength + signatureBuffer.byteLength);\n        response.set(new Uint8Array(publicKeyBuffer), 0);\n        response.set(new Uint8Array(signatureBuffer), publicKeyBuffer.byteLength);\n        return response;\n    });\n}\n\nfunction encode(input) {\n    return window.btoa(input);\n}\n\nfunction createSIWSMessage(payload) {\n    return createSignInMessageText(payload);\n}\nfunction createSIWSMessageBase64(payload) {\n    return encode(createSIWSMessage(payload));\n}\n\n// optional features\nconst SolanaSignTransactions = 'solana:signTransactions';\nconst SolanaCloneAuthorization = 'solana:cloneAuthorization';\nconst SolanaSignInWithSolana = 'solana:signInWithSolana';\n\n/**\n * Creates a {@link MobileWallet} proxy that handles backwards compatibility and API to RPC conversion.\n *\n * @param protocolVersion the protocol version in use for this session/request\n * @param protocolRequestHandler callback function that handles sending the RPC request to the wallet endpoint.\n * @returns a {@link MobileWallet} proxy\n */\nfunction createMobileWalletProxy(protocolVersion, protocolRequestHandler) {\n    return new Proxy({}, {\n        get(target, p) {\n            if (target[p] == null) {\n                target[p] = function (inputParams) {\n                    return __awaiter(this, void 0, void 0, function* () {\n                        const { method, params } = handleMobileWalletRequest(p, inputParams, protocolVersion);\n                        const result = yield protocolRequestHandler(method, params);\n                        // if the request tried to sign in but the wallet did not return a sign in result, fallback on message signing\n                        if (method === 'authorize' && params.sign_in_payload && !result.sign_in_result) {\n                            result['sign_in_result'] = yield signInFallback(params.sign_in_payload, result, protocolRequestHandler);\n                        }\n                        return handleMobileWalletResponse(p, result, protocolVersion);\n                    });\n                };\n            }\n            return target[p];\n        },\n        defineProperty() {\n            return false;\n        },\n        deleteProperty() {\n            return false;\n        },\n    });\n}\n/**\n * Handles all {@link MobileWallet} API requests and determines the correct MWA RPC method and params to call.\n * This handles backwards compatibility, based on the provided @protocolVersion.\n *\n * @param methodName the name of {@link MobileWallet} method that was called\n * @param methodParams the parameters that were passed to the method\n * @param protocolVersion the protocol version in use for this session/request\n * @returns the RPC request method and params that should be sent to the wallet endpoint\n */\nfunction handleMobileWalletRequest(methodName, methodParams, protocolVersion) {\n    let params = methodParams;\n    let method = methodName\n        .toString()\n        .replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`)\n        .toLowerCase();\n    switch (methodName) {\n        case 'authorize': {\n            let { chain } = params;\n            if (protocolVersion === 'legacy') {\n                switch (chain) {\n                    case 'solana:testnet': {\n                        chain = 'testnet';\n                        break;\n                    }\n                    case 'solana:devnet': {\n                        chain = 'devnet';\n                        break;\n                    }\n                    case 'solana:mainnet': {\n                        chain = 'mainnet-beta';\n                        break;\n                    }\n                    default: {\n                        chain = params.cluster;\n                    }\n                }\n                params.cluster = chain;\n            }\n            else {\n                switch (chain) {\n                    case 'testnet':\n                    case 'devnet': {\n                        chain = `solana:${chain}`;\n                        break;\n                    }\n                    case 'mainnet-beta': {\n                        chain = 'solana:mainnet';\n                        break;\n                    }\n                }\n                params.chain = chain;\n            }\n        }\n        case 'reauthorize': {\n            const { auth_token, identity } = params;\n            if (auth_token) {\n                switch (protocolVersion) {\n                    case 'legacy': {\n                        method = 'reauthorize';\n                        params = { auth_token: auth_token, identity: identity };\n                        break;\n                    }\n                    default: {\n                        method = 'authorize';\n                        break;\n                    }\n                }\n            }\n            break;\n        }\n    }\n    return { method, params };\n}\n/**\n * Handles all {@link MobileWallet} API responses and modifies the response for backwards compatibility, if needed\n *\n * @param method the {@link MobileWallet} method that was called\n * @param response the original response that was returned by the method call\n * @param protocolVersion the protocol version in use for this session/request\n * @returns the possibly modified response\n */\nfunction handleMobileWalletResponse(method, response, protocolVersion) {\n    switch (method) {\n        case 'getCapabilities': {\n            const capabilities = response;\n            switch (protocolVersion) {\n                case 'legacy': {\n                    const features = [SolanaSignTransactions];\n                    if (capabilities.supports_clone_authorization === true) {\n                        features.push(SolanaCloneAuthorization);\n                    }\n                    return Object.assign(Object.assign({}, capabilities), { features: features });\n                }\n                case 'v1': {\n                    return Object.assign(Object.assign({}, capabilities), { supports_sign_and_send_transactions: true, supports_clone_authorization: capabilities.features.includes(SolanaCloneAuthorization) });\n                }\n            }\n        }\n    }\n    return response;\n}\nfunction signInFallback(signInPayload, authorizationResult, protocolRequestHandler) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const domain = (_a = signInPayload.domain) !== null && _a !== void 0 ? _a : window.location.host;\n        const address = authorizationResult.accounts[0].address;\n        const siwsMessage = createSIWSMessageBase64(Object.assign(Object.assign({}, signInPayload), { domain, address }));\n        const signMessageResult = yield protocolRequestHandler('sign_messages', {\n            addresses: [address],\n            payloads: [siwsMessage]\n        });\n        const signInResult = {\n            address: address,\n            signed_message: siwsMessage,\n            signature: signMessageResult.signed_payloads[0].slice(siwsMessage.length)\n        };\n        return signInResult;\n    });\n}\n\nconst SEQUENCE_NUMBER_BYTES = 4;\nfunction createSequenceNumberVector(sequenceNumber) {\n    if (sequenceNumber >= 4294967296) {\n        throw new Error('Outbound sequence number overflow. The maximum sequence number is 32-bytes.');\n    }\n    const byteArray = new ArrayBuffer(SEQUENCE_NUMBER_BYTES);\n    const view = new DataView(byteArray);\n    view.setUint32(0, sequenceNumber, /* littleEndian */ false);\n    return new Uint8Array(byteArray);\n}\n\nconst INITIALIZATION_VECTOR_BYTES = 12;\nconst ENCODED_PUBLIC_KEY_LENGTH_BYTES = 65;\nfunction encryptMessage(plaintext, sequenceNumber, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const sequenceNumberVector = createSequenceNumberVector(sequenceNumber);\n        const initializationVector = new Uint8Array(INITIALIZATION_VECTOR_BYTES);\n        crypto.getRandomValues(initializationVector);\n        const ciphertext = yield crypto.subtle.encrypt(getAlgorithmParams(sequenceNumberVector, initializationVector), sharedSecret, new TextEncoder().encode(plaintext));\n        const response = new Uint8Array(sequenceNumberVector.byteLength + initializationVector.byteLength + ciphertext.byteLength);\n        response.set(new Uint8Array(sequenceNumberVector), 0);\n        response.set(new Uint8Array(initializationVector), sequenceNumberVector.byteLength);\n        response.set(new Uint8Array(ciphertext), sequenceNumberVector.byteLength + initializationVector.byteLength);\n        return response;\n    });\n}\nfunction decryptMessage(message, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const sequenceNumberVector = message.slice(0, SEQUENCE_NUMBER_BYTES);\n        const initializationVector = message.slice(SEQUENCE_NUMBER_BYTES, SEQUENCE_NUMBER_BYTES + INITIALIZATION_VECTOR_BYTES);\n        const ciphertext = message.slice(SEQUENCE_NUMBER_BYTES + INITIALIZATION_VECTOR_BYTES);\n        const plaintextBuffer = yield crypto.subtle.decrypt(getAlgorithmParams(sequenceNumberVector, initializationVector), sharedSecret, ciphertext);\n        const plaintext = getUtf8Decoder().decode(plaintextBuffer);\n        return plaintext;\n    });\n}\nfunction getAlgorithmParams(sequenceNumber, initializationVector) {\n    return {\n        additionalData: sequenceNumber,\n        iv: initializationVector,\n        name: 'AES-GCM',\n        tagLength: 128, // 16 byte tag => 128 bits\n    };\n}\nlet _utf8Decoder;\nfunction getUtf8Decoder() {\n    if (_utf8Decoder === undefined) {\n        _utf8Decoder = new TextDecoder('utf-8');\n    }\n    return _utf8Decoder;\n}\n\nfunction generateAssociationKeypair() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield crypto.subtle.generateKey({\n            name: 'ECDSA',\n            namedCurve: 'P-256',\n        }, false /* extractable */, ['sign'] /* keyUsages */);\n    });\n}\n\nfunction generateECDHKeypair() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield crypto.subtle.generateKey({\n            name: 'ECDH',\n            namedCurve: 'P-256',\n        }, false /* extractable */, ['deriveKey', 'deriveBits'] /* keyUsages */);\n    });\n}\n\nfunction encryptJsonRpcMessage(jsonRpcMessage, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const plaintext = JSON.stringify(jsonRpcMessage);\n        const sequenceNumber = jsonRpcMessage.id;\n        return encryptMessage(plaintext, sequenceNumber, sharedSecret);\n    });\n}\nfunction decryptJsonRpcMessage(message, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const plaintext = yield decryptMessage(message, sharedSecret);\n        const jsonRpcMessage = JSON.parse(plaintext);\n        if (Object.hasOwnProperty.call(jsonRpcMessage, 'error')) {\n            throw new SolanaMobileWalletAdapterProtocolError(jsonRpcMessage.id, jsonRpcMessage.error.code, jsonRpcMessage.error.message);\n        }\n        return jsonRpcMessage;\n    });\n}\n\nfunction parseHelloRsp(payloadBuffer, // The X9.62-encoded wallet endpoint ephemeral ECDH public keypoint.\nassociationPublicKey, ecdhPrivateKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [associationPublicKeyBuffer, walletPublicKey] = yield Promise.all([\n            crypto.subtle.exportKey('raw', associationPublicKey),\n            crypto.subtle.importKey('raw', payloadBuffer.slice(0, ENCODED_PUBLIC_KEY_LENGTH_BYTES), { name: 'ECDH', namedCurve: 'P-256' }, false /* extractable */, [] /* keyUsages */),\n        ]);\n        const sharedSecret = yield crypto.subtle.deriveBits({ name: 'ECDH', public: walletPublicKey }, ecdhPrivateKey, 256);\n        const ecdhSecretKey = yield crypto.subtle.importKey('raw', sharedSecret, 'HKDF', false /* extractable */, ['deriveKey'] /* keyUsages */);\n        const aesKeyMaterialVal = yield crypto.subtle.deriveKey({\n            name: 'HKDF',\n            hash: 'SHA-256',\n            salt: new Uint8Array(associationPublicKeyBuffer),\n            info: new Uint8Array(),\n        }, ecdhSecretKey, { name: 'AES-GCM', length: 128 }, false /* extractable */, ['encrypt', 'decrypt']);\n        return aesKeyMaterialVal;\n    });\n}\n\nfunction parseSessionProps(message, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const plaintext = yield decryptMessage(message, sharedSecret);\n        const jsonProperties = JSON.parse(plaintext);\n        let protocolVersion = 'legacy';\n        if (Object.hasOwnProperty.call(jsonProperties, 'v')) {\n            switch (jsonProperties.v) {\n                case 1:\n                case '1':\n                case 'v1':\n                    protocolVersion = 'v1';\n                    break;\n                case 'legacy':\n                    protocolVersion = 'legacy';\n                    break;\n                default:\n                    throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_INVALID_PROTOCOL_VERSION, `Unknown/unsupported protocol version: ${jsonProperties.v}`);\n            }\n        }\n        return ({\n            protocol_version: protocolVersion\n        });\n    });\n}\n\nfunction getRandomAssociationPort() {\n    return assertAssociationPort(49152 + Math.floor(Math.random() * (65535 - 49152 + 1)));\n}\nfunction assertAssociationPort(port) {\n    if (port < 49152 || port > 65535) {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE, `Association port number must be between 49152 and 65535. ${port} given.`, { port });\n    }\n    return port;\n}\n\n// https://stackoverflow.com/a/9458996/802047\nfunction arrayBufferToBase64String(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    for (let ii = 0; ii < len; ii++) {\n        binary += String.fromCharCode(bytes[ii]);\n    }\n    return window.btoa(binary);\n}\n\nfunction getStringWithURLUnsafeCharactersReplaced(unsafeBase64EncodedString) {\n    return unsafeBase64EncodedString.replace(/[/+=]/g, (m) => ({\n        '/': '_',\n        '+': '-',\n        '=': '.',\n    }[m]));\n}\n\nfunction getRandomReflectorId() {\n    return assertReflectorId(getRandomInt(0, 9007199254740991)); // 0 < id < 2^53 - 1\n}\nfunction getRandomInt(min, max) {\n    const randomBuffer = new Uint32Array(1);\n    window.crypto.getRandomValues(randomBuffer);\n    let randomNumber = randomBuffer[0] / (0xffffffff + 1);\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(randomNumber * (max - min + 1)) + min;\n}\nfunction assertReflectorId(id) {\n    if (id < 0 || id > 9007199254740991) { // 0 < id < 2^53 - 1\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_REFLECTOR_ID_OUT_OF_RANGE, `Association port number must be between 49152 and 65535. ${id} given.`, { id });\n    }\n    return id;\n}\n\nconst INTENT_NAME = 'solana-wallet';\nfunction getPathParts(pathString) {\n    return (pathString\n        // Strip leading and trailing slashes\n        .replace(/(^\\/+|\\/+$)/g, '')\n        // Return an array of directories\n        .split('/'));\n}\nfunction getIntentURL(methodPathname, intentUrlBase) {\n    let baseUrl = null;\n    if (intentUrlBase) {\n        try {\n            baseUrl = new URL(intentUrlBase);\n        }\n        catch (_a) { } // eslint-disable-line no-empty\n        if ((baseUrl === null || baseUrl === void 0 ? void 0 : baseUrl.protocol) !== 'https:') {\n            throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL, 'Base URLs supplied by wallets must be valid `https` URLs');\n        }\n    }\n    baseUrl || (baseUrl = new URL(`${INTENT_NAME}:/`));\n    const pathname = methodPathname.startsWith('/')\n        ? // Method is an absolute path. Replace it wholesale.\n            methodPathname\n        : // Method is a relative path. Merge it with the existing one.\n            [...getPathParts(baseUrl.pathname), ...getPathParts(methodPathname)].join('/');\n    return new URL(pathname, baseUrl);\n}\nfunction getAssociateAndroidIntentURL(associationPublicKey, putativePort, associationURLBase, protocolVersions = ['v1']) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const associationPort = assertAssociationPort(putativePort);\n        const exportedKey = yield crypto.subtle.exportKey('raw', associationPublicKey);\n        const encodedKey = arrayBufferToBase64String(exportedKey);\n        const url = getIntentURL('v1/associate/local', associationURLBase);\n        url.searchParams.set('association', getStringWithURLUnsafeCharactersReplaced(encodedKey));\n        url.searchParams.set('port', `${associationPort}`);\n        protocolVersions.forEach((version) => {\n            url.searchParams.set('v', version);\n        });\n        return url;\n    });\n}\nfunction getRemoteAssociateAndroidIntentURL(associationPublicKey, hostAuthority, putativeId, associationURLBase, protocolVersions = ['v1']) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const reflectorId = assertReflectorId(putativeId);\n        const exportedKey = yield crypto.subtle.exportKey('raw', associationPublicKey);\n        const encodedKey = arrayBufferToBase64String(exportedKey);\n        const url = getIntentURL('v1/associate/remote', associationURLBase);\n        url.searchParams.set('association', getStringWithURLUnsafeCharactersReplaced(encodedKey));\n        url.searchParams.set('reflector', `${hostAuthority}`);\n        url.searchParams.set('id', `${reflectorId}`);\n        protocolVersions.forEach((version) => {\n            url.searchParams.set('v', version);\n        });\n        return url;\n    });\n}\n\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nconst Browser = {\n    Firefox: 0,\n    Other: 1,\n};\nfunction assertUnreachable(x) {\n    return x;\n}\nfunction getBrowser() {\n    return navigator.userAgent.indexOf('Firefox/') !== -1 ? Browser.Firefox : Browser.Other;\n}\nfunction getDetectionPromise() {\n    // Chrome and others silently fail if a custom protocol is not supported.\n    // For these, we wait to see if the browser is navigated away from in\n    // a reasonable amount of time (ie. the native wallet opened).\n    return new Promise((resolve, reject) => {\n        function cleanup() {\n            clearTimeout(timeoutId);\n            window.removeEventListener('blur', handleBlur);\n        }\n        function handleBlur() {\n            cleanup();\n            resolve();\n        }\n        window.addEventListener('blur', handleBlur);\n        const timeoutId = setTimeout(() => {\n            cleanup();\n            reject();\n        }, 2000);\n    });\n}\nlet _frame = null;\nfunction launchUrlThroughHiddenFrame(url) {\n    if (_frame == null) {\n        _frame = document.createElement('iframe');\n        _frame.style.display = 'none';\n        document.body.appendChild(_frame);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    _frame.contentWindow.location.href = url.toString();\n}\nfunction launchAssociation(associationUrl) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (associationUrl.protocol === 'https:') {\n            // The association URL is an Android 'App Link' or iOS 'Universal Link'.\n            // These are regular web URLs that are designed to launch an app if it\n            // is installed or load the actual target webpage if not.\n            window.location.assign(associationUrl);\n        }\n        else {\n            // The association URL has a custom protocol (eg. `solana-wallet:`)\n            try {\n                const browser = getBrowser();\n                switch (browser) {\n                    case Browser.Firefox:\n                        // If a custom protocol is not supported in Firefox, it throws.\n                        launchUrlThroughHiddenFrame(associationUrl);\n                        // If we reached this line, it's supported.\n                        break;\n                    case Browser.Other: {\n                        const detectionPromise = getDetectionPromise();\n                        window.location.assign(associationUrl);\n                        yield detectionPromise;\n                        break;\n                    }\n                    default:\n                        assertUnreachable(browser);\n                }\n            }\n            catch (e) {\n                throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND, 'Found no installed wallet that supports the mobile wallet protocol.');\n            }\n        }\n    });\n}\nfunction startSession(associationPublicKey, associationURLBase) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const randomAssociationPort = getRandomAssociationPort();\n        const associationUrl = yield getAssociateAndroidIntentURL(associationPublicKey, randomAssociationPort, associationURLBase);\n        yield launchAssociation(associationUrl);\n        return randomAssociationPort;\n    });\n}\nfunction getRemoteSessionUrl(associationPublicKey, hostAuthority, associationURLBase) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const randomReflectorId = getRandomReflectorId();\n        const associationUrl = yield getRemoteAssociateAndroidIntentURL(associationPublicKey, hostAuthority, randomReflectorId, associationURLBase);\n        return { associationUrl, reflectorId: randomReflectorId };\n    });\n}\n\nconst WEBSOCKET_CONNECTION_CONFIG = {\n    /**\n     * 300 milliseconds is a generally accepted threshold for what someone\n     * would consider an acceptable response time for a user interface\n     * after having performed a low-attention tapping task. We set the initial\n     * interval at which we wait for the wallet to set up the websocket at\n     * half this, as per the Nyquist frequency, with a progressive backoff\n     * sequence from there. The total wait time is 30s, which allows for the\n     * user to be presented with a disambiguation dialog, select a wallet, and\n     * for the wallet app to subsequently start.\n     */\n    retryDelayScheduleMs: [150, 150, 200, 500, 500, 750, 750, 1000],\n    timeoutMs: 30000,\n};\nconst WEBSOCKET_PROTOCOL = 'com.solana.mobilewalletadapter.v1';\nfunction assertSecureContext() {\n    if (typeof window === 'undefined' || window.isSecureContext !== true) {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED, 'The mobile wallet adapter protocol must be used in a secure context (`https`).');\n    }\n}\nfunction assertSecureEndpointSpecificURI(walletUriBase) {\n    let url;\n    try {\n        url = new URL(walletUriBase);\n    }\n    catch (_a) {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL, 'Invalid base URL supplied by wallet');\n    }\n    if (url.protocol !== 'https:') {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL, 'Base URLs supplied by wallets must be valid `https` URLs');\n    }\n}\nfunction getSequenceNumberFromByteArray(byteArray) {\n    const view = new DataView(byteArray);\n    return view.getUint32(0, /* littleEndian */ false);\n}\nfunction transact(callback, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        assertSecureContext();\n        const associationKeypair = yield generateAssociationKeypair();\n        const sessionPort = yield startSession(associationKeypair.publicKey, config === null || config === void 0 ? void 0 : config.baseUri);\n        const websocketURL = `ws://localhost:${sessionPort}/solana-wallet`;\n        let connectionStartTime;\n        const getNextRetryDelayMs = (() => {\n            const schedule = [...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];\n            return () => (schedule.length > 1 ? schedule.shift() : schedule[0]);\n        })();\n        let nextJsonRpcMessageId = 1;\n        let lastKnownInboundSequenceNumber = 0;\n        let state = { __type: 'disconnected' };\n        return new Promise((resolve, reject) => {\n            let socket;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const jsonRpcResponsePromises = {};\n            const handleOpen = () => __awaiter(this, void 0, void 0, function* () {\n                if (state.__type !== 'connecting') {\n                    console.warn('Expected adapter state to be `connecting` at the moment the websocket opens. ' +\n                        `Got \\`${state.__type}\\`.`);\n                    return;\n                }\n                socket.removeEventListener('open', handleOpen);\n                // previous versions of this library and walletlib incorrectly implemented the MWA session \n                // establishment protocol for local connections. The dapp is supposed to wait for the \n                // APP_PING message before sending the HELLO_REQ. Instead, the dapp was sending the HELLO_REQ \n                // immediately upon connection to the websocket server regardless of wether or not an \n                // APP_PING was sent by the wallet/websocket server. We must continue to support this behavior \n                // in case the user is using a wallet that has not updated their walletlib implementation. \n                const { associationKeypair } = state;\n                const ecdhKeypair = yield generateECDHKeypair();\n                socket.send(yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey));\n                state = {\n                    __type: 'hello_req_sent',\n                    associationPublicKey: associationKeypair.publicKey,\n                    ecdhPrivateKey: ecdhKeypair.privateKey,\n                };\n            });\n            const handleClose = (evt) => {\n                if (evt.wasClean) {\n                    state = { __type: 'disconnected' };\n                }\n                else {\n                    reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED, `The wallet session dropped unexpectedly (${evt.code}: ${evt.reason}).`, { closeEvent: evt }));\n                }\n                disposeSocket();\n            };\n            const handleError = (_evt) => __awaiter(this, void 0, void 0, function* () {\n                disposeSocket();\n                if (Date.now() - connectionStartTime >= WEBSOCKET_CONNECTION_CONFIG.timeoutMs) {\n                    reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT, `Failed to connect to the wallet websocket at ${websocketURL}.`));\n                }\n                else {\n                    yield new Promise((resolve) => {\n                        const retryDelayMs = getNextRetryDelayMs();\n                        retryWaitTimeoutId = window.setTimeout(resolve, retryDelayMs);\n                    });\n                    attemptSocketConnection();\n                }\n            });\n            const handleMessage = (evt) => __awaiter(this, void 0, void 0, function* () {\n                const responseBuffer = yield evt.data.arrayBuffer();\n                switch (state.__type) {\n                    case 'connecting':\n                        if (responseBuffer.byteLength !== 0) {\n                            throw new Error('Encountered unexpected message while connecting');\n                        }\n                        const ecdhKeypair = yield generateECDHKeypair();\n                        socket.send(yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey));\n                        state = {\n                            __type: 'hello_req_sent',\n                            associationPublicKey: associationKeypair.publicKey,\n                            ecdhPrivateKey: ecdhKeypair.privateKey,\n                        };\n                        break;\n                    case 'connected':\n                        try {\n                            const sequenceNumberVector = responseBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                            const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                            if (sequenceNumber !== (lastKnownInboundSequenceNumber + 1)) {\n                                throw new Error('Encrypted message has invalid sequence number');\n                            }\n                            lastKnownInboundSequenceNumber = sequenceNumber;\n                            const jsonRpcMessage = yield decryptJsonRpcMessage(responseBuffer, state.sharedSecret);\n                            const responsePromise = jsonRpcResponsePromises[jsonRpcMessage.id];\n                            delete jsonRpcResponsePromises[jsonRpcMessage.id];\n                            responsePromise.resolve(jsonRpcMessage.result);\n                        }\n                        catch (e) {\n                            if (e instanceof SolanaMobileWalletAdapterProtocolError) {\n                                const responsePromise = jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                delete jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                responsePromise.reject(e);\n                            }\n                            else {\n                                throw e;\n                            }\n                        }\n                        break;\n                    case 'hello_req_sent': {\n                        // if we receive an APP_PING message (empty message), resend the HELLO_REQ (see above)\n                        if (responseBuffer.byteLength === 0) {\n                            const ecdhKeypair = yield generateECDHKeypair();\n                            socket.send(yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey));\n                            state = {\n                                __type: 'hello_req_sent',\n                                associationPublicKey: associationKeypair.publicKey,\n                                ecdhPrivateKey: ecdhKeypair.privateKey,\n                            };\n                            break;\n                        }\n                        const sharedSecret = yield parseHelloRsp(responseBuffer, state.associationPublicKey, state.ecdhPrivateKey);\n                        const sessionPropertiesBuffer = responseBuffer.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES);\n                        const sessionProperties = sessionPropertiesBuffer.byteLength !== 0\n                            ? yield (() => __awaiter(this, void 0, void 0, function* () {\n                                const sequenceNumberVector = sessionPropertiesBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                if (sequenceNumber !== (lastKnownInboundSequenceNumber + 1)) {\n                                    throw new Error('Encrypted message has invalid sequence number');\n                                }\n                                lastKnownInboundSequenceNumber = sequenceNumber;\n                                return parseSessionProps(sessionPropertiesBuffer, sharedSecret);\n                            }))() : { protocol_version: 'legacy' };\n                        state = { __type: 'connected', sharedSecret, sessionProperties };\n                        const wallet = createMobileWalletProxy(sessionProperties.protocol_version, (method, params) => __awaiter(this, void 0, void 0, function* () {\n                            const id = nextJsonRpcMessageId++;\n                            socket.send(yield encryptJsonRpcMessage({\n                                id,\n                                jsonrpc: '2.0',\n                                method,\n                                params: params !== null && params !== void 0 ? params : {},\n                            }, sharedSecret));\n                            return new Promise((resolve, reject) => {\n                                jsonRpcResponsePromises[id] = {\n                                    resolve(result) {\n                                        switch (method) {\n                                            case 'authorize':\n                                            case 'reauthorize': {\n                                                const { wallet_uri_base } = result;\n                                                if (wallet_uri_base != null) {\n                                                    try {\n                                                        assertSecureEndpointSpecificURI(wallet_uri_base);\n                                                    }\n                                                    catch (e) {\n                                                        reject(e);\n                                                        return;\n                                                    }\n                                                }\n                                                break;\n                                            }\n                                        }\n                                        resolve(result);\n                                    },\n                                    reject,\n                                };\n                            });\n                        }));\n                        try {\n                            resolve(yield callback(wallet));\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                        finally {\n                            disposeSocket();\n                            socket.close();\n                        }\n                        break;\n                    }\n                }\n            });\n            let disposeSocket;\n            let retryWaitTimeoutId;\n            const attemptSocketConnection = () => {\n                if (disposeSocket) {\n                    disposeSocket();\n                }\n                state = { __type: 'connecting', associationKeypair };\n                if (connectionStartTime === undefined) {\n                    connectionStartTime = Date.now();\n                }\n                socket = new WebSocket(websocketURL, [WEBSOCKET_PROTOCOL]);\n                socket.addEventListener('open', handleOpen);\n                socket.addEventListener('close', handleClose);\n                socket.addEventListener('error', handleError);\n                socket.addEventListener('message', handleMessage);\n                disposeSocket = () => {\n                    window.clearTimeout(retryWaitTimeoutId);\n                    socket.removeEventListener('open', handleOpen);\n                    socket.removeEventListener('close', handleClose);\n                    socket.removeEventListener('error', handleError);\n                    socket.removeEventListener('message', handleMessage);\n                };\n            };\n            attemptSocketConnection();\n        });\n    });\n}\nfunction transactRemote(callback, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        assertSecureContext();\n        const associationKeypair = yield generateAssociationKeypair();\n        const { associationUrl, reflectorId } = yield getRemoteSessionUrl(associationKeypair.publicKey, config.remoteHostAuthority, config === null || config === void 0 ? void 0 : config.baseUri);\n        const websocketURL = `wss://${config === null || config === void 0 ? void 0 : config.remoteHostAuthority}/reflect?id=${reflectorId}`;\n        let connectionStartTime;\n        const getNextRetryDelayMs = (() => {\n            const schedule = [...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];\n            return () => (schedule.length > 1 ? schedule.shift() : schedule[0]);\n        })();\n        let nextJsonRpcMessageId = 1;\n        let lastKnownInboundSequenceNumber = 0;\n        let state = { __type: 'disconnected' };\n        return { associationUrl, result: new Promise((resolve, reject) => {\n                let socket;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const jsonRpcResponsePromises = {};\n                const handleOpen = () => __awaiter(this, void 0, void 0, function* () {\n                    if (state.__type !== 'connecting') {\n                        console.warn('Expected adapter state to be `connecting` at the moment the websocket opens. ' +\n                            `Got \\`${state.__type}\\`.`);\n                        return;\n                    }\n                    socket.removeEventListener('open', handleOpen);\n                });\n                const handleClose = (evt) => {\n                    if (evt.wasClean) {\n                        state = { __type: 'disconnected' };\n                    }\n                    else {\n                        reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED, `The wallet session dropped unexpectedly (${evt.code}: ${evt.reason}).`, { closeEvent: evt }));\n                    }\n                    disposeSocket();\n                };\n                const handleError = (_evt) => __awaiter(this, void 0, void 0, function* () {\n                    disposeSocket();\n                    if (Date.now() - connectionStartTime >= WEBSOCKET_CONNECTION_CONFIG.timeoutMs) {\n                        reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT, `Failed to connect to the wallet websocket at ${websocketURL}.`));\n                    }\n                    else {\n                        yield new Promise((resolve) => {\n                            const retryDelayMs = getNextRetryDelayMs();\n                            retryWaitTimeoutId = window.setTimeout(resolve, retryDelayMs);\n                        });\n                        attemptSocketConnection();\n                    }\n                });\n                const handleMessage = (evt) => __awaiter(this, void 0, void 0, function* () {\n                    const responseBuffer = yield evt.data.arrayBuffer();\n                    switch (state.__type) {\n                        case 'connecting':\n                            if (responseBuffer.byteLength !== 0) {\n                                throw new Error('Encountered unexpected message while connecting');\n                            }\n                            const ecdhKeypair = yield generateECDHKeypair();\n                            socket.send(yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey));\n                            state = {\n                                __type: 'hello_req_sent',\n                                associationPublicKey: associationKeypair.publicKey,\n                                ecdhPrivateKey: ecdhKeypair.privateKey,\n                            };\n                            break;\n                        case 'connected':\n                            try {\n                                const sequenceNumberVector = responseBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                if (sequenceNumber !== (lastKnownInboundSequenceNumber + 1)) {\n                                    throw new Error('Encrypted message has invalid sequence number');\n                                }\n                                lastKnownInboundSequenceNumber = sequenceNumber;\n                                const jsonRpcMessage = yield decryptJsonRpcMessage(responseBuffer, state.sharedSecret);\n                                const responsePromise = jsonRpcResponsePromises[jsonRpcMessage.id];\n                                delete jsonRpcResponsePromises[jsonRpcMessage.id];\n                                responsePromise.resolve(jsonRpcMessage.result);\n                            }\n                            catch (e) {\n                                if (e instanceof SolanaMobileWalletAdapterProtocolError) {\n                                    const responsePromise = jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                    delete jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                    responsePromise.reject(e);\n                                }\n                                else {\n                                    throw e;\n                                }\n                            }\n                            break;\n                        case 'hello_req_sent': {\n                            const sharedSecret = yield parseHelloRsp(responseBuffer, state.associationPublicKey, state.ecdhPrivateKey);\n                            const sessionPropertiesBuffer = responseBuffer.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES);\n                            const sessionProperties = sessionPropertiesBuffer.byteLength !== 0\n                                ? yield (() => __awaiter(this, void 0, void 0, function* () {\n                                    const sequenceNumberVector = sessionPropertiesBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                    const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                    if (sequenceNumber !== (lastKnownInboundSequenceNumber + 1)) {\n                                        throw new Error('Encrypted message has invalid sequence number');\n                                    }\n                                    lastKnownInboundSequenceNumber = sequenceNumber;\n                                    return parseSessionProps(sessionPropertiesBuffer, sharedSecret);\n                                }))() : { protocol_version: 'legacy' };\n                            state = { __type: 'connected', sharedSecret, sessionProperties };\n                            const wallet = createMobileWalletProxy(sessionProperties.protocol_version, (method, params) => __awaiter(this, void 0, void 0, function* () {\n                                const id = nextJsonRpcMessageId++;\n                                socket.send(yield encryptJsonRpcMessage({\n                                    id,\n                                    jsonrpc: '2.0',\n                                    method,\n                                    params: params !== null && params !== void 0 ? params : {},\n                                }, sharedSecret));\n                                return new Promise((resolve, reject) => {\n                                    jsonRpcResponsePromises[id] = {\n                                        resolve(result) {\n                                            switch (method) {\n                                                case 'authorize':\n                                                case 'reauthorize': {\n                                                    const { wallet_uri_base } = result;\n                                                    if (wallet_uri_base != null) {\n                                                        try {\n                                                            assertSecureEndpointSpecificURI(wallet_uri_base);\n                                                        }\n                                                        catch (e) {\n                                                            reject(e);\n                                                            return;\n                                                        }\n                                                    }\n                                                    break;\n                                                }\n                                            }\n                                            resolve(result);\n                                        },\n                                        reject,\n                                    };\n                                });\n                            }));\n                            try {\n                                resolve(yield callback(new Proxy(wallet, {\n                                    get(target, p) {\n                                        if (p === 'terminateSession') {\n                                            disposeSocket();\n                                            socket.close();\n                                            return;\n                                        }\n                                        else\n                                            return target[p];\n                                    },\n                                })));\n                            }\n                            catch (e) {\n                                reject(e);\n                            }\n                            break;\n                        }\n                    }\n                });\n                let disposeSocket;\n                let retryWaitTimeoutId;\n                const attemptSocketConnection = () => {\n                    if (disposeSocket) {\n                        disposeSocket();\n                    }\n                    state = { __type: 'connecting', associationKeypair };\n                    if (connectionStartTime === undefined) {\n                        connectionStartTime = Date.now();\n                    }\n                    socket = new WebSocket(websocketURL, [WEBSOCKET_PROTOCOL]);\n                    socket.addEventListener('open', handleOpen);\n                    socket.addEventListener('close', handleClose);\n                    socket.addEventListener('error', handleError);\n                    socket.addEventListener('message', handleMessage);\n                    disposeSocket = () => {\n                        window.clearTimeout(retryWaitTimeoutId);\n                        socket.removeEventListener('open', handleOpen);\n                        socket.removeEventListener('close', handleClose);\n                        socket.removeEventListener('error', handleError);\n                        socket.removeEventListener('message', handleMessage);\n                    };\n                };\n                attemptSocketConnection();\n            }) };\n    });\n}\n\nexport { SolanaCloneAuthorization, SolanaMobileWalletAdapterError, SolanaMobileWalletAdapterErrorCode, SolanaMobileWalletAdapterProtocolError, SolanaMobileWalletAdapterProtocolErrorCode, SolanaSignInWithSolana, SolanaSignTransactions, transact, transactRemote };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1250, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1256, "column": 0}, "map": {"version":3,"sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40solana-mobile/mobile-wallet-adapter-protocol-web3js/lib/esm/index.js"],"sourcesContent":["import { VersionedMessage, Transaction, VersionedTransaction, SIGNATURE_LENGTH_IN_BYTES } from '@solana/web3.js';\nimport { transact as transact$1, transactRemote as transactRemote$1 } from '@solana-mobile/mobile-wallet-adapter-protocol';\nimport bs58 from 'bs58';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nfunction fromUint8Array(byteArray) {\n    return window.btoa(String.fromCharCode.call(null, ...byteArray));\n}\nfunction toUint8Array(base64EncodedByteArray) {\n    return new Uint8Array(window\n        .atob(base64EncodedByteArray)\n        .split('')\n        .map((c) => c.charCodeAt(0)));\n}\n\nfunction getPayloadFromTransaction(transaction) {\n    const serializedTransaction = 'version' in transaction\n        ? transaction.serialize()\n        : transaction.serialize({\n            requireAllSignatures: false,\n            verifySignatures: false,\n        });\n    const payload = fromUint8Array(serializedTransaction);\n    return payload;\n}\nfunction getTransactionFromWireMessage(byteArray) {\n    const numSignatures = byteArray[0];\n    const messageOffset = numSignatures * SIGNATURE_LENGTH_IN_BYTES + 1;\n    const version = VersionedMessage.deserializeMessageVersion(byteArray.slice(messageOffset, byteArray.length));\n    if (version === 'legacy') {\n        return Transaction.from(byteArray);\n    }\n    else {\n        return VersionedTransaction.deserialize(byteArray);\n    }\n}\nfunction transact(callback, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const augmentedCallback = (wallet) => {\n            const augmentedAPI = new Proxy({}, {\n                get(target, p) {\n                    if (target[p] == null) {\n                        switch (p) {\n                            case 'signAndSendTransactions':\n                                target[p] = function (_a) {\n                                    var { minContextSlot, commitment, skipPreflight, maxRetries, waitForCommitmentToSendNextTransaction, transactions } = _a, rest = __rest(_a, [\"minContextSlot\", \"commitment\", \"skipPreflight\", \"maxRetries\", \"waitForCommitmentToSendNextTransaction\", \"transactions\"]);\n                                    return __awaiter(this, void 0, void 0, function* () {\n                                        const payloads = transactions.map(getPayloadFromTransaction);\n                                        const options = {\n                                            min_context_slot: minContextSlot,\n                                            commitment: commitment,\n                                            skip_preflight: skipPreflight,\n                                            max_retries: maxRetries,\n                                            wait_for_commitment_to_send_next_transaction: waitForCommitmentToSendNextTransaction\n                                        };\n                                        const { signatures: base64EncodedSignatures } = yield wallet.signAndSendTransactions(Object.assign(Object.assign(Object.assign({}, rest), (Object.values(options).some(element => element != null)\n                                            ? { options: options }\n                                            : null)), { payloads }));\n                                        const signatures = base64EncodedSignatures.map(toUint8Array).map(bs58.encode);\n                                        return signatures;\n                                    });\n                                };\n                                break;\n                            case 'signMessages':\n                                target[p] = function (_a) {\n                                    var { payloads } = _a, rest = __rest(_a, [\"payloads\"]);\n                                    return __awaiter(this, void 0, void 0, function* () {\n                                        const base64EncodedPayloads = payloads.map(fromUint8Array);\n                                        const { signed_payloads: base64EncodedSignedMessages } = yield wallet.signMessages(Object.assign(Object.assign({}, rest), { payloads: base64EncodedPayloads }));\n                                        const signedMessages = base64EncodedSignedMessages.map(toUint8Array);\n                                        return signedMessages;\n                                    });\n                                };\n                                break;\n                            case 'signTransactions':\n                                target[p] = function (_a) {\n                                    var { transactions } = _a, rest = __rest(_a, [\"transactions\"]);\n                                    return __awaiter(this, void 0, void 0, function* () {\n                                        const payloads = transactions.map(getPayloadFromTransaction);\n                                        const { signed_payloads: base64EncodedCompiledTransactions } = yield wallet.signTransactions(Object.assign(Object.assign({}, rest), { payloads }));\n                                        const compiledTransactions = base64EncodedCompiledTransactions.map(toUint8Array);\n                                        const signedTransactions = compiledTransactions.map(getTransactionFromWireMessage);\n                                        return signedTransactions;\n                                    });\n                                };\n                                break;\n                            default: {\n                                target[p] = wallet[p];\n                                break;\n                            }\n                        }\n                    }\n                    return target[p];\n                },\n                defineProperty() {\n                    return false;\n                },\n                deleteProperty() {\n                    return false;\n                },\n            });\n            return callback(augmentedAPI);\n        };\n        return yield transact$1(augmentedCallback, config);\n    });\n}\nfunction transactRemote(callback, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const augmentedCallback = (wallet) => {\n            const augmentedAPI = new Proxy({}, {\n                get(target, p) {\n                    if (target[p] == null) {\n                        switch (p) {\n                            case 'signAndSendTransactions':\n                                target[p] = function (_a) {\n                                    var { minContextSlot, commitment, skipPreflight, maxRetries, waitForCommitmentToSendNextTransaction, transactions } = _a, rest = __rest(_a, [\"minContextSlot\", \"commitment\", \"skipPreflight\", \"maxRetries\", \"waitForCommitmentToSendNextTransaction\", \"transactions\"]);\n                                    return __awaiter(this, void 0, void 0, function* () {\n                                        const payloads = transactions.map(getPayloadFromTransaction);\n                                        const options = {\n                                            min_context_slot: minContextSlot,\n                                            commitment: commitment,\n                                            skip_preflight: skipPreflight,\n                                            max_retries: maxRetries,\n                                            wait_for_commitment_to_send_next_transaction: waitForCommitmentToSendNextTransaction\n                                        };\n                                        const { signatures: base64EncodedSignatures } = yield wallet.signAndSendTransactions(Object.assign(Object.assign(Object.assign({}, rest), (Object.values(options).some(element => element != null)\n                                            ? { options: options }\n                                            : null)), { payloads }));\n                                        const signatures = base64EncodedSignatures.map(toUint8Array).map(bs58.encode);\n                                        return signatures;\n                                    });\n                                };\n                                break;\n                            case 'signMessages':\n                                target[p] = function (_a) {\n                                    var { payloads } = _a, rest = __rest(_a, [\"payloads\"]);\n                                    return __awaiter(this, void 0, void 0, function* () {\n                                        const base64EncodedPayloads = payloads.map(fromUint8Array);\n                                        const { signed_payloads: base64EncodedSignedMessages } = yield wallet.signMessages(Object.assign(Object.assign({}, rest), { payloads: base64EncodedPayloads }));\n                                        const signedMessages = base64EncodedSignedMessages.map(toUint8Array);\n                                        return signedMessages;\n                                    });\n                                };\n                                break;\n                            case 'signTransactions':\n                                target[p] = function (_a) {\n                                    var { transactions } = _a, rest = __rest(_a, [\"transactions\"]);\n                                    return __awaiter(this, void 0, void 0, function* () {\n                                        const payloads = transactions.map(getPayloadFromTransaction);\n                                        const { signed_payloads: base64EncodedCompiledTransactions } = yield wallet.signTransactions(Object.assign(Object.assign({}, rest), { payloads }));\n                                        const compiledTransactions = base64EncodedCompiledTransactions.map(toUint8Array);\n                                        const signedTransactions = compiledTransactions.map(getTransactionFromWireMessage);\n                                        return signedTransactions;\n                                    });\n                                };\n                                break;\n                            default: {\n                                target[p] = wallet[p];\n                                break;\n                            }\n                        }\n                    }\n                    return target[p];\n                },\n                defineProperty() {\n                    return false;\n                },\n                deleteProperty() {\n                    return false;\n                },\n            });\n            return callback(augmentedAPI);\n        };\n        return yield transactRemote$1(augmentedCallback, config);\n    });\n}\n\nexport { transact, transactRemote };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1515, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1521, "column": 0}, "map": {"version":3,"sources":["file:///Users/spectrum/Documents/nextjs/vizport-finance/vizport-finance/node_modules/%40solana-mobile/wallet-adapter-mobile/lib/esm/index.js"],"sourcesContent":["import { BaseSignInMessageSignerWalletAdapter, WalletReadyState, WalletPublicKeyError, WalletNotReadyError, WalletConnectionError, WalletDisconnectedError, WalletNotConnectedError, WalletSignTransactionError, WalletSendTransactionError, WalletSignMessageError, isVersionedTransaction as isVersionedTransaction$1 } from '@solana/wallet-adapter-base';\nimport { PublicKey } from '@solana/web3.js';\nimport { transact, transactRemote } from '@solana-mobile/mobile-wallet-adapter-protocol-web3js';\nimport QRCode from 'qrcode';\nimport { toUint8Array as toUint8Array$1 } from 'js-base64';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nfunction toUint8Array(base64EncodedByteArray) {\n    return new Uint8Array(window\n        .atob(base64EncodedByteArray)\n        .split('')\n        .map((c) => c.charCodeAt(0)));\n}\n\nfunction getIsSupported$1() {\n    return (typeof window !== 'undefined' &&\n        window.isSecureContext &&\n        typeof document !== 'undefined' &&\n        /android/i.test(navigator.userAgent));\n}\n\nconst SolanaMobileWalletAdapterWalletName = 'Mobile Wallet Adapter';\nconst SIGNATURE_LENGTH_IN_BYTES$1 = 64;\nfunction getPublicKeyFromAddress$1(address) {\n    const publicKeyByteArray = toUint8Array(address);\n    return new PublicKey(publicKeyByteArray);\n}\nfunction isVersionedTransaction(transaction) {\n    return 'version' in transaction;\n}\nfunction clusterToChainId(cluster) {\n    switch (cluster) {\n        case 'mainnet-beta':\n            return 'solana:mainnet';\n        case 'testnet':\n            return 'solana:testnet';\n        case 'devnet':\n            return 'solana:devnet';\n    }\n}\nclass SolanaMobileWalletAdapter extends BaseSignInMessageSignerWalletAdapter {\n    constructor(config) {\n        var _a;\n        super();\n        this.supportedTransactionVersions = new Set(\n        // FIXME(#244): We can't actually know what versions are supported until we know which wallet we're talking to.\n        ['legacy', 0]);\n        this.name = SolanaMobileWalletAdapterWalletName;\n        this.url = 'https://solanamobile.com/wallets';\n        this.icon = 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==';\n        this._connecting = false;\n        /**\n         * Every time the connection is recycled in some way (eg. `disconnect()` is called)\n         * increment this and use it to make sure that `transact` calls from the previous\n         * 'generation' don't continue to do work and throw exceptions.\n         */\n        this._connectionGeneration = 0;\n        this._readyState = getIsSupported$1() ? WalletReadyState.Loadable : WalletReadyState.Unsupported;\n        this._authorizationResultCache = config.authorizationResultCache;\n        this._addressSelector = config.addressSelector;\n        this._appIdentity = config.appIdentity;\n        this._chain = (_a = config.chain) !== null && _a !== void 0 ? _a : clusterToChainId(config.cluster);\n        this._hostAuthority = config.remoteHostAuthority;\n        this._onWalletNotFound = config.onWalletNotFound;\n        if (this._readyState !== WalletReadyState.Unsupported) {\n            this._authorizationResultCache.get().then((authorizationResult) => {\n                if (authorizationResult) {\n                    // Having a prior authorization result is, right now, the best\n                    // indication that a mobile wallet is installed. There is no API\n                    // we can use to test for whether the association URI is supported.\n                    this.declareWalletAsInstalled();\n                }\n            });\n        }\n    }\n    get publicKey() {\n        if (this._publicKey == null && this._selectedAddress != null) {\n            try {\n                this._publicKey = getPublicKeyFromAddress$1(this._selectedAddress);\n            }\n            catch (e) {\n                throw new WalletPublicKeyError((e instanceof Error && (e === null || e === void 0 ? void 0 : e.message)) || 'Unknown error', e);\n            }\n        }\n        return this._publicKey ? this._publicKey : null;\n    }\n    get connected() {\n        return !!this._authorizationResult;\n    }\n    get connecting() {\n        return this._connecting;\n    }\n    get readyState() {\n        return this._readyState;\n    }\n    declareWalletAsInstalled() {\n        if (this._readyState !== WalletReadyState.Installed) {\n            this.emit('readyStateChange', (this._readyState = WalletReadyState.Installed));\n        }\n    }\n    runWithGuard(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield callback();\n            }\n            catch (e) {\n                this.emit('error', e);\n                throw e;\n            }\n        });\n    }\n    /** @deprecated Use `autoConnect()` instead. */\n    autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.autoConnect();\n        });\n    }\n    autoConnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.connecting || this.connected) {\n                return;\n            }\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                if (this._readyState !== WalletReadyState.Installed && this._readyState !== WalletReadyState.Loadable) {\n                    throw new WalletNotReadyError();\n                }\n                this._connecting = true;\n                try {\n                    const cachedAuthorizationResult = yield this._authorizationResultCache.get();\n                    if (cachedAuthorizationResult) {\n                        // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                        this.handleAuthorizationResult(cachedAuthorizationResult);\n                    }\n                }\n                catch (e) {\n                    throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n                }\n                finally {\n                    this._connecting = false;\n                }\n            }));\n        });\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.connecting || this.connected) {\n                return;\n            }\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                if (this._readyState !== WalletReadyState.Installed && this._readyState !== WalletReadyState.Loadable) {\n                    throw new WalletNotReadyError();\n                }\n                this._connecting = true;\n                try {\n                    yield this.performAuthorization();\n                }\n                catch (e) {\n                    throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n                }\n                finally {\n                    this._connecting = false;\n                }\n            }));\n        });\n    }\n    performAuthorization(signInPayload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const cachedAuthorizationResult = yield this._authorizationResultCache.get();\n                if (cachedAuthorizationResult) {\n                    // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                    this.handleAuthorizationResult(cachedAuthorizationResult);\n                    return cachedAuthorizationResult;\n                }\n                return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                    const authorizationResult = yield wallet.authorize({\n                        chain: this._chain,\n                        identity: this._appIdentity,\n                        sign_in_payload: signInPayload,\n                    });\n                    // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                    Promise.all([\n                        this._authorizationResultCache.set(authorizationResult),\n                        this.handleAuthorizationResult(authorizationResult),\n                    ]);\n                    return authorizationResult;\n                }));\n            }\n            catch (e) {\n                throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n            }\n        });\n    }\n    handleAuthorizationResult(authorizationResult) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const didPublicKeysChange = \n            // Case 1: We started from having no authorization.\n            this._authorizationResult == null ||\n                // Case 2: The number of authorized accounts changed.\n                ((_a = this._authorizationResult) === null || _a === void 0 ? void 0 : _a.accounts.length) !== authorizationResult.accounts.length ||\n                // Case 3: The new list of addresses isn't exactly the same as the old list, in the same order.\n                this._authorizationResult.accounts.some((account, ii) => account.address !== authorizationResult.accounts[ii].address);\n            this._authorizationResult = authorizationResult;\n            this.declareWalletAsInstalled();\n            if (didPublicKeysChange) {\n                const nextSelectedAddress = yield this._addressSelector.select(authorizationResult.accounts.map(({ address }) => address));\n                if (nextSelectedAddress !== this._selectedAddress) {\n                    this._selectedAddress = nextSelectedAddress;\n                    delete this._publicKey;\n                    this.emit('connect', \n                    // Having just set `this._selectedAddress`, `this.publicKey` is definitely non-null\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    this.publicKey);\n                }\n            }\n        });\n    }\n    performReauthorization(wallet, authToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const authorizationResult = yield wallet.authorize({\n                    auth_token: authToken,\n                    identity: this._appIdentity,\n                });\n                // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                Promise.all([\n                    this._authorizationResultCache.set(authorizationResult),\n                    this.handleAuthorizationResult(authorizationResult),\n                ]);\n            }\n            catch (e) {\n                this.disconnect();\n                throw new WalletDisconnectedError((e instanceof Error && (e === null || e === void 0 ? void 0 : e.message)) || 'Unknown error', e);\n            }\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._authorizationResultCache.clear(); // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n            this._connecting = false;\n            this._connectionGeneration++;\n            delete this._authorizationResult;\n            delete this._publicKey;\n            delete this._selectedAddress;\n            this.emit('disconnect');\n        });\n    }\n    transact(callback) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const walletUriBase = (_a = this._authorizationResult) === null || _a === void 0 ? void 0 : _a.wallet_uri_base;\n            const config = walletUriBase ? { baseUri: walletUriBase } : undefined;\n            const remoteConfig = this._hostAuthority ? { remoteHostAuthority: this._hostAuthority } : undefined;\n            const currentConnectionGeneration = this._connectionGeneration;\n            try {\n                return yield transact(callback, Object.assign(Object.assign({}, config), remoteConfig));\n            }\n            catch (e) {\n                if (this._connectionGeneration !== currentConnectionGeneration) {\n                    yield new Promise(() => { }); // Never resolve.\n                }\n                if (e instanceof Error &&\n                    e.name === 'SolanaMobileWalletAdapterError' &&\n                    e.code === 'ERROR_WALLET_NOT_FOUND') {\n                    yield this._onWalletNotFound(this);\n                }\n                throw e;\n            }\n        });\n    }\n    assertIsAuthorized() {\n        if (!this._authorizationResult || !this._selectedAddress)\n            throw new WalletNotConnectedError();\n        return {\n            authToken: this._authorizationResult.auth_token,\n            selectedAddress: this._selectedAddress,\n        };\n    }\n    performSignTransactions(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { authToken } = this.assertIsAuthorized();\n            try {\n                return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                    yield this.performReauthorization(wallet, authToken);\n                    const signedTransactions = yield wallet.signTransactions({\n                        transactions,\n                    });\n                    return signedTransactions;\n                }));\n            }\n            catch (error) {\n                throw new WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);\n            }\n        });\n    }\n    sendTransaction(transaction, connection, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const { authToken } = this.assertIsAuthorized();\n                const minContextSlot = options === null || options === void 0 ? void 0 : options.minContextSlot;\n                try {\n                    return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                        function getTargetCommitment() {\n                            let targetCommitment;\n                            switch (connection.commitment) {\n                                case 'confirmed':\n                                case 'finalized':\n                                case 'processed':\n                                    targetCommitment = connection.commitment;\n                                    break;\n                                default:\n                                    targetCommitment = 'finalized';\n                            }\n                            let targetPreflightCommitment;\n                            switch (options === null || options === void 0 ? void 0 : options.preflightCommitment) {\n                                case 'confirmed':\n                                case 'finalized':\n                                case 'processed':\n                                    targetPreflightCommitment = options.preflightCommitment;\n                                    break;\n                                case undefined:\n                                    targetPreflightCommitment = targetCommitment;\n                                    break;\n                                default:\n                                    targetPreflightCommitment = 'finalized';\n                            }\n                            const preflightCommitmentScore = targetPreflightCommitment === 'finalized'\n                                ? 2\n                                : targetPreflightCommitment === 'confirmed'\n                                    ? 1\n                                    : 0;\n                            const targetCommitmentScore = targetCommitment === 'finalized' ? 2 : targetCommitment === 'confirmed' ? 1 : 0;\n                            return preflightCommitmentScore < targetCommitmentScore\n                                ? targetPreflightCommitment\n                                : targetCommitment;\n                        }\n                        const [capabilities, _1, _2] = yield Promise.all([\n                            wallet.getCapabilities(),\n                            this.performReauthorization(wallet, authToken),\n                            isVersionedTransaction(transaction)\n                                ? null\n                                : /**\n                                   * Unlike versioned transactions, legacy `Transaction` objects\n                                   * may not have an associated `feePayer` or `recentBlockhash`.\n                                   * This code exists to patch them up in case they are missing.\n                                   */\n                                    (() => __awaiter(this, void 0, void 0, function* () {\n                                        var _a;\n                                        transaction.feePayer || (transaction.feePayer = (_a = this.publicKey) !== null && _a !== void 0 ? _a : undefined);\n                                        if (transaction.recentBlockhash == null) {\n                                            const { blockhash } = yield connection.getLatestBlockhash({\n                                                commitment: getTargetCommitment(),\n                                            });\n                                            transaction.recentBlockhash = blockhash;\n                                        }\n                                    }))(),\n                        ]);\n                        if (capabilities.supports_sign_and_send_transactions) {\n                            const signatures = yield wallet.signAndSendTransactions({\n                                minContextSlot,\n                                transactions: [transaction],\n                            });\n                            return signatures[0];\n                        }\n                        else {\n                            const [signedTransaction] = yield wallet.signTransactions({\n                                transactions: [transaction],\n                            });\n                            if (isVersionedTransaction(signedTransaction)) {\n                                return yield connection.sendTransaction(signedTransaction);\n                            }\n                            else {\n                                const serializedTransaction = signedTransaction.serialize();\n                                return yield connection.sendRawTransaction(serializedTransaction, Object.assign(Object.assign({}, options), { preflightCommitment: getTargetCommitment() }));\n                            }\n                        }\n                    }));\n                }\n                catch (error) {\n                    throw new WalletSendTransactionError(error === null || error === void 0 ? void 0 : error.message, error);\n                }\n            }));\n        });\n    }\n    signTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const [signedTransaction] = yield this.performSignTransactions([transaction]);\n                return signedTransaction;\n            }));\n        });\n    }\n    signAllTransactions(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const signedTransactions = yield this.performSignTransactions(transactions);\n                return signedTransactions;\n            }));\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const { authToken, selectedAddress } = this.assertIsAuthorized();\n                try {\n                    return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                        yield this.performReauthorization(wallet, authToken);\n                        const [signedMessage] = yield wallet.signMessages({\n                            addresses: [selectedAddress],\n                            payloads: [message],\n                        });\n                        const signature = signedMessage.slice(-SIGNATURE_LENGTH_IN_BYTES$1);\n                        return signature;\n                    }));\n                }\n                catch (error) {\n                    throw new WalletSignMessageError(error === null || error === void 0 ? void 0 : error.message, error);\n                }\n            }));\n        });\n    }\n    signIn(input) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                if (this._readyState !== WalletReadyState.Installed && this._readyState !== WalletReadyState.Loadable) {\n                    throw new WalletNotReadyError();\n                }\n                this._connecting = true;\n                try {\n                    const authorizationResult = yield this.performAuthorization(Object.assign(Object.assign({}, input), { domain: (_a = input === null || input === void 0 ? void 0 : input.domain) !== null && _a !== void 0 ? _a : window.location.host }));\n                    if (!authorizationResult.sign_in_result) {\n                        throw new Error(\"Sign in failed, no sign in result returned by wallet\");\n                    }\n                    const signedInAddress = authorizationResult.sign_in_result.address;\n                    const signedInAccount = Object.assign(Object.assign({}, (_b = authorizationResult.accounts.find(acc => acc.address == signedInAddress)) !== null && _b !== void 0 ? _b : {\n                        address: signedInAddress\n                    }), { publicKey: toUint8Array(signedInAddress) });\n                    return {\n                        account: signedInAccount,\n                        signedMessage: toUint8Array(authorizationResult.sign_in_result.signed_message),\n                        signature: toUint8Array(authorizationResult.sign_in_result.signature)\n                    };\n                }\n                catch (e) {\n                    throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n                }\n                finally {\n                    this._connecting = false;\n                }\n            }));\n        });\n    }\n}\n\nconst BluetoothHtml = `\r\n    <div class=\"mobile-wallet-adapter-embedded-modal-content\">\r\n    <button id=\"mobile-wallet-adapter-embedded-modal-close\" class=\"mobile-wallet-adapter-embedded-modal-close\">\r\n        <svg width=\"14\" height=\"14\">\r\n        <path d=\"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z\" />\r\n        </svg>\r\n    </button>\r\n    <h1><b>Jupiter</b> wants to connect</h1>\r\n    <p class=\"mobile-wallet-adapter-embedded-modal-subtitle\">Connect to your mobile wallet app through Bluetooth.</p>\r\n    <div class=\"mobile-wallet-adapter-embedded-modal-connection-status-container\">\r\n        <div id=\"status-not-connected\" class=\"connection-status\">\r\n        <svg class=\"bluetooth-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n            <path fill=\"#a0a0a0\" d=\"M14.24 12.01l2.32 2.32c.28-.72.44-1.51.44-2.33 0-.82-.16-1.59-.43-2.31l-2.33 2.32zm5.29-5.3l-1.26 1.26c.63 1.21.98 2.57.98 4.02s-.36 2.82-.98 4.02l1.2 1.2c.97-1.54 1.54-3.36 1.54-5.31-.01-1.89-.55-3.67-1.48-5.19zm-3.82 1L10 2H9v7.59L4.41 5 3 6.41 8.59 12 3 17.59 4.41 19 9 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM11 5.83l1.88 1.88L11 9.59V5.83zm1.88 10.46L11 18.17v-3.76l1.88 1.88z\"/>\r\n        </svg>\r\n        <p>Not connected</p>\r\n        </div>\r\n        <div id=\"status-connecting\" class=\"connection-status\" style=\"display:none;\">\r\n        <div class=\"spinner\"></div>\r\n        <p>Connecting...</p>\r\n        </div>\r\n        <div id=\"status-connected\" class=\"connection-status\" style=\"display:none;\">\r\n        <svg class=\"checkmark-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n            <path fill=\"#4CAF50\" d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n        </svg>\r\n        <p>Connected</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"button-group\">\r\n        <button id=\"cancel-btn\" class=\"cancel-btn\">Cancel</button>\r\n        <button id=\"connect-btn\" class=\"connect-btn\">Connect</button>\r\n    </div>\r\n    </div>\r\n`;\n\nconst QRCodeHtml = `\r\n<div class=\"mobile-wallet-adapter-embedded-modal-content\">\r\n  <button id=\"mobile-wallet-adapter-embedded-modal-close\" class=\"mobile-wallet-adapter-embedded-modal-close\">\r\n    <svg width=\"14\" height=\"14\">\r\n      <path d=\"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z\" />\r\n    </svg>\r\n  </button>\r\n  <h1>Scan to connect</h1>\r\n  <p class=\"mobile-wallet-adapter-embedded-modal-subtitle\">Use your wallet app to scan the QR Code and connect.</p>\r\n  <div id=\"mobile-wallet-adapter-embedded-modal-qr-code-container\" />\r\n</div>\r\n`;\n\nconst css = `\r\n.mobile-wallet-adapter-embedded-modal {\r\n    display: flex; /* Use flexbox to center content */\r\n    flex-direction: column;\r\n    justify-content: center; /* Center horizontally */\r\n    align-items: center; /* Center vertically */\r\n    position: fixed; /* Stay in place */\r\n    z-index: 1; /* Sit on top */\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%; /* Full width */\r\n    height: 100%; /* Full height */\r\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\r\n}\r\n\r\n.mobile-wallet-adapter-embedded-modal-content {\r\n    background: #10141f;\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    width: 80%;\r\n    max-width: 500px;\r\n    text-align: center;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center; /* Center children horizontally */\r\n}\r\n\r\n.mobile-wallet-adapter-embedded-modal-subtitle {\r\n    color: #D8D8D8;\r\n}\r\n\r\n.mobile-wallet-adapter-embedded-modal-close {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 18px;\r\n    right: 18px;\r\n    padding: 12px;\r\n    cursor: pointer;\r\n    background: #1a1f2e;\r\n    border: none;\r\n    border-radius: 50%;\r\n}\r\n\r\n.mobile-wallet-adapter-embedded-modal-close:focus-visible {\r\n    outline-color: white;\r\n}\r\n\r\n.mobile-wallet-adapter-embedded-modal-close svg {\r\n    fill: #777;\r\n    transition: fill 200ms ease 0s;\r\n}\r\n\r\n.mobile-wallet-adapter-embedded-modal-close:hover svg {\r\n    fill: #fff;\r\n}\r\n\r\n.icon-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.icon {\r\n    width: 80px;\r\n    height: 80px;\r\n    border-radius: 50%;\r\n    background-color: #ddd; /* Placeholder for icon background */\r\n}\r\n\r\n/* Modal Title */\r\n.mobile-wallet-adapter-embedded-modal-content h1 {\r\n    color: white;\r\n    font-size: 24px;   \r\n}\r\n\r\n.button-group {\r\n    display: flex;\r\n    width: 100%;\r\n    gap: 10px;\r\n}\r\n\r\n.connect-btn, .cancel-btn {\r\n    flex: 1;\r\n    padding: 12px 20px;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n    border-radius: 10px;\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.connect-btn {\r\n    background-color: #007bff;\r\n    color: white;\r\n    border: none;\r\n}\r\n\r\n.connect-btn:hover {\r\n    background-color: #0056b3;\r\n}\r\n\r\n.cancel-btn {\r\n    background-color: transparent;\r\n    color: #a0a0a0;\r\n    border: 1px solid #a0a0a0;\r\n}\r\n\r\n.cancel-btn:hover {\r\n    background-color: rgba(160, 160, 160, 0.1);\r\n}\r\n\r\n/* BT Connection Status */\r\n\r\n.mobile-wallet-adapter-embedded-modal-connection-status-container {\r\n    margin: 20px 0px 20px 0px;\r\n}\r\n\r\n.connection-status {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 20px 0;\r\n}\r\n  \r\n.connection-status p {\r\n    margin-top: 10px;\r\n    color: #a0a0a0;\r\n}\r\n  \r\n.bluetooth-icon, .checkmark-icon {\r\n    width: 48px;\r\n    height: 48px;\r\n}\r\n  \r\n.spinner {\r\n    border: 4px solid #f3f3f3;\r\n    border-top: 4px solid #3498db;\r\n    border-radius: 50%;\r\n    width: 40px;\r\n    height: 40px;\r\n    animation: spin 1s linear infinite;\r\n}\r\n  \r\n@keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* QR Code */\r\n\r\n#mobile-wallet-adapter-embedded-modal-qr-code-container {\r\n    width: 500px;\r\n    height: 500px;\r\n    align-content: center;\r\n}\r\n`;\n\nclass EmbeddedModal {\n    constructor(title) {\n        this._root = null;\n        this._title = title;\n        // Bind methods to ensure `this` context is correct\n        this.init = this.init.bind(this);\n        this.injectQRCodeHTML = this.injectQRCodeHTML.bind(this);\n        this.injectBluetoothHTML = this.injectBluetoothHTML.bind(this);\n        this.open = this.open.bind(this);\n        this.close = this.close.bind(this);\n        this.connect = this.connect.bind(this);\n        this._root = document.getElementById('mobile-wallet-adapter-embedded-root-ui');\n    }\n    init(qrCode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('Injecting modal');\n            this.injectStyles();\n            this.injectQRCodeHTML(qrCode);\n        });\n    }\n    setConnectionStatus(status) {\n        if (!this._root)\n            return;\n        const statuses = ['not-connected', 'connecting', 'connected'];\n        statuses.forEach((s) => {\n            const el = this._root.querySelector(`#status-${s}`);\n            if (el instanceof HTMLElement) {\n                el.style.display = s === status ? 'flex' : 'none';\n            }\n        });\n    }\n    injectStyles() {\n        // Check if the styles have already been injected\n        if (document.getElementById('mobile-wallet-adapter-styles')) {\n            return;\n        }\n        const styleElement = document.createElement('style');\n        styleElement.id = 'mobile-wallet-adapter-styles';\n        styleElement.textContent = css;\n        document.head.appendChild(styleElement);\n    }\n    populateQRCode(qrUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const qrcodeContainer = document.getElementById('mobile-wallet-adapter-embedded-modal-qr-code-container');\n            if (qrcodeContainer) {\n                const qrCodeElement = yield QRCode.toCanvas(qrUrl, { width: 400 });\n                if (qrcodeContainer.firstElementChild !== null) {\n                    qrcodeContainer.replaceChild(qrCodeElement, qrcodeContainer.firstElementChild);\n                }\n                else\n                    qrcodeContainer.appendChild(qrCodeElement);\n            }\n            else {\n                console.error('QRCode Container not found');\n            }\n        });\n    }\n    injectQRCodeHTML(qrCode) {\n        // Check if the HTML has already been injected\n        if (document.getElementById('mobile-wallet-adapter-embedded-root-ui')) {\n            if (!this._root)\n                this._root = document.getElementById('mobile-wallet-adapter-embedded-root-ui');\n            this.populateQRCode(qrCode);\n            return;\n        }\n        // Create a container for the modal\n        this._root = document.createElement('div');\n        this._root.id = 'mobile-wallet-adapter-embedded-root-ui';\n        this._root.className = 'mobile-wallet-adapter-embedded-modal';\n        this._root.innerHTML = QRCodeHtml;\n        this._root.style.display = 'none';\n        // Append the modal to the body\n        document.body.appendChild(this._root);\n        // Render the QRCode\n        this.populateQRCode(qrCode);\n        this.attachEventListeners();\n    }\n    injectBluetoothHTML() {\n        // Check if the HTML has already been injected\n        if (document.getElementById('mobile-wallet-adapter-embedded-root-ui')) {\n            return;\n        }\n        this._root = document.createElement('div');\n        this._root.id = 'mobile-wallet-adapter-embedded-root-ui';\n        this._root.className = 'mobile-wallet-adapter-embedded-modal';\n        this._root.innerHTML = BluetoothHtml;\n        document.body.appendChild(this._root);\n        this.attachEventListeners();\n    }\n    attachEventListeners() {\n        if (!this._root)\n            return;\n        const closeBtn = this._root.querySelector('#mobile-wallet-adapter-embedded-modal-close');\n        const cancelBtn = this._root.querySelector('#cancel-btn');\n        const connectBtn = this._root.querySelector('#connect-btn');\n        closeBtn === null || closeBtn === void 0 ? void 0 : closeBtn.addEventListener('click', () => this.close());\n        cancelBtn === null || cancelBtn === void 0 ? void 0 : cancelBtn.addEventListener('click', () => this.close());\n        connectBtn === null || connectBtn === void 0 ? void 0 : connectBtn.addEventListener('click', () => this.connect());\n    }\n    open() {\n        console.debug('Modal open');\n        if (this._root) {\n            this._root.style.display = 'flex';\n            this.setConnectionStatus('not-connected'); // Reset status when opening\n        }\n    }\n    close() {\n        console.debug('Modal close');\n        if (this._root) {\n            this._root.style.display = 'none';\n            this.setConnectionStatus('not-connected'); // Reset status when closing\n        }\n    }\n    connect() {\n        console.log('Connecting...');\n        // Mock connection\n        this.setConnectionStatus('connecting');\n        // Simulate connection process\n        setTimeout(() => {\n            this.setConnectionStatus('connected');\n            console.log('Connected!');\n        }, 5000); // 5 seconds delay\n    }\n}\n\nconst SolanaMobileWalletAdapterRemoteWalletName = 'MWA (Remote)';\nconst SIGNATURE_LENGTH_IN_BYTES = 64;\nfunction getPublicKeyFromAddress(address) {\n    const publicKeyByteArray = toUint8Array$1(address);\n    return new PublicKey(publicKeyByteArray);\n}\n/**\n * Determine the mobile operating system.\n * Returns true if running on a mobile operating system, or false otherwise.\n *\n * @returns {boolean}\n */\nfunction isMobileOperatingSystem() {\n    var userAgent = navigator.userAgent;\n    // Windows Phone must come first because its UA also contains \"Android\"\n    if (/windows phone/i.test(userAgent)) {\n        return true;\n    }\n    if (/android/i.test(userAgent)) {\n        return true;\n    }\n    // iOS detection from: http://stackoverflow.com/a/9039885/177710\n    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        return true;\n    }\n    return false;\n}\nfunction getIsSupported() {\n    return (typeof window !== 'undefined' &&\n        window.isSecureContext &&\n        typeof document !== 'undefined' &&\n        !isMobileOperatingSystem());\n}\n/**\n * This burner wallet adapter is unsafe to use and is only included to provide an easy way for applications to test\n * Wallet Adapter without using a third-party wallet.\n */\nclass SolanaMobileWalletAdapterRemote extends BaseSignInMessageSignerWalletAdapter {\n    constructor(config) {\n        super();\n        this.supportedTransactionVersions = new Set(\n        // FIXME(#244): We can't actually know what versions are supported until we know which wallet we're talking to.\n        ['legacy', 0]);\n        this.name = SolanaMobileWalletAdapterRemoteWalletName;\n        this.url = 'https://solanamobile.com/wallets';\n        this.icon = 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==';\n        this._connecting = false;\n        /**\n         * Every time the connection is recycled in some way (eg. `disconnect()` is called)\n         * increment this and use it to make sure that `transact` calls from the previous\n         * 'generation' don't continue to do work and throw exceptions.\n         */\n        this._connectionGeneration = 0;\n        this._readyState = getIsSupported() ? WalletReadyState.Loadable : WalletReadyState.Unsupported;\n        this._authorizationResultCache = config.authorizationResultCache;\n        this._addressSelector = config.addressSelector;\n        this._appIdentity = config.appIdentity;\n        this._chain = config.chain;\n        this._hostAuthority = config.remoteHostAuthority;\n        this._onWalletNotFound = config.onWalletNotFound;\n        if (this._readyState !== WalletReadyState.Unsupported) {\n            this._authorizationResultCache.get().then((authorizationResult) => {\n                if (authorizationResult) {\n                    // Having a prior authorization result is, right now, the best\n                    // indication that a mobile wallet is installed. There is no API\n                    // we can use to test for whether the association URI is supported.\n                    this.declareWalletAsInstalled();\n                }\n            });\n        }\n    }\n    get publicKey() {\n        if (this._publicKey == null && this._selectedAddress != null) {\n            try {\n                this._publicKey = getPublicKeyFromAddress(this._selectedAddress);\n            }\n            catch (e) {\n                throw new WalletPublicKeyError((e instanceof Error && (e === null || e === void 0 ? void 0 : e.message)) || 'Unknown error', e);\n            }\n        }\n        return this._publicKey ? this._publicKey : null;\n    }\n    get connected() {\n        return !!this._authorizationResult;\n    }\n    get connecting() {\n        return this._connecting;\n    }\n    get readyState() {\n        return this._readyState;\n    }\n    declareWalletAsInstalled() {\n        if (this._readyState !== WalletReadyState.Installed) {\n            this.emit('readyStateChange', (this._readyState = WalletReadyState.Installed));\n        }\n    }\n    runWithGuard(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield callback();\n            }\n            catch (e) {\n                this.emit('error', e);\n                throw e;\n            }\n        });\n    }\n    autoConnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.connecting || this.connected) {\n                return;\n            }\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                if (this._readyState !== WalletReadyState.Installed && this._readyState !== WalletReadyState.Loadable) {\n                    throw new WalletNotReadyError();\n                }\n                this._connecting = true;\n                try {\n                    const cachedAuthorizationResult = yield this._authorizationResultCache.get();\n                    if (cachedAuthorizationResult) {\n                        // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                        this.handleAuthorizationResult(cachedAuthorizationResult);\n                    }\n                }\n                catch (e) {\n                    throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n                }\n                finally {\n                    this._connecting = false;\n                }\n            }));\n        });\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.connecting || this.connected) {\n                return;\n            }\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                if (this._readyState !== WalletReadyState.Installed && this._readyState !== WalletReadyState.Loadable) {\n                    throw new WalletNotReadyError();\n                }\n                this._connecting = true;\n                try {\n                    yield this.performAuthorization();\n                }\n                catch (e) {\n                    throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n                }\n                finally {\n                    this._connecting = false;\n                }\n            }));\n        });\n    }\n    performAuthorization(signInPayload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const cachedAuthorizationResult = yield this._authorizationResultCache.get();\n                if (cachedAuthorizationResult) {\n                    // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                    this.handleAuthorizationResult(cachedAuthorizationResult);\n                    return cachedAuthorizationResult;\n                }\n                if (this._wallet)\n                    delete this._wallet;\n                return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                    this._wallet = wallet;\n                    const authorizationResult = yield wallet.authorize({\n                        chain: this._chain,\n                        identity: this._appIdentity,\n                        sign_in_payload: signInPayload,\n                    });\n                    // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                    Promise.all([\n                        this._authorizationResultCache.set(authorizationResult),\n                        this.handleAuthorizationResult(authorizationResult),\n                    ]);\n                    return authorizationResult;\n                }));\n            }\n            catch (e) {\n                throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n            }\n        });\n    }\n    handleAuthorizationResult(authorizationResult) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const didPublicKeysChange = \n            // Case 1: We started from having no authorization.\n            this._authorizationResult == null ||\n                // Case 2: The number of authorized accounts changed.\n                ((_a = this._authorizationResult) === null || _a === void 0 ? void 0 : _a.accounts.length) !== authorizationResult.accounts.length ||\n                // Case 3: The new list of addresses isn't exactly the same as the old list, in the same order.\n                this._authorizationResult.accounts.some((account, ii) => account.address !== authorizationResult.accounts[ii].address);\n            this._authorizationResult = authorizationResult;\n            this.declareWalletAsInstalled();\n            if (didPublicKeysChange) {\n                const nextSelectedAddress = yield this._addressSelector.select(authorizationResult.accounts.map(({ address }) => address));\n                if (nextSelectedAddress !== this._selectedAddress) {\n                    this._selectedAddress = nextSelectedAddress;\n                    delete this._publicKey;\n                    this.emit('connect', \n                    // Having just set `this._selectedAddress`, `this.publicKey` is definitely non-null\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    this.publicKey);\n                }\n            }\n        });\n    }\n    performReauthorization(wallet, authToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const authorizationResult = yield wallet.authorize({\n                    auth_token: authToken,\n                    identity: this._appIdentity,\n                });\n                // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                Promise.all([\n                    this._authorizationResultCache.set(authorizationResult),\n                    this.handleAuthorizationResult(authorizationResult),\n                ]);\n            }\n            catch (e) {\n                this.disconnect();\n                throw new WalletDisconnectedError((e instanceof Error && (e === null || e === void 0 ? void 0 : e.message)) || 'Unknown error', e);\n            }\n        });\n    }\n    disconnect() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: figure out why this call throws \"TypeError: _a.terminateSession is not a function\"\n            //  even though the session termination is actually executed (websocket closes). \n            try {\n                (_a = this._wallet) === null || _a === void 0 ? void 0 : _a.terminateSession();\n            }\n            catch (e) { }\n            this._authorizationResultCache.clear(); // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n            this._connecting = false;\n            this._connectionGeneration++;\n            delete this._authorizationResult;\n            delete this._publicKey;\n            delete this._selectedAddress;\n            delete this._wallet;\n            this.emit('disconnect');\n        });\n    }\n    transact(callback) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const walletUriBase = (_a = this._authorizationResult) === null || _a === void 0 ? void 0 : _a.wallet_uri_base;\n            const baseConfig = walletUriBase ? { baseUri: walletUriBase } : undefined;\n            const remoteConfig = Object.assign(Object.assign({}, baseConfig), { remoteHostAuthority: this._hostAuthority });\n            const currentConnectionGeneration = this._connectionGeneration;\n            const modal = new EmbeddedModal('MWA QR');\n            if (this._wallet) {\n                return callback(this._wallet);\n            }\n            try {\n                const { associationUrl, result: promise } = yield transactRemote((wallet) => __awaiter(this, void 0, void 0, function* () {\n                    const result = yield callback(wallet);\n                    modal.close();\n                    return result;\n                }), remoteConfig);\n                modal.init(associationUrl.toString());\n                modal.open();\n                return yield promise;\n            }\n            catch (e) {\n                modal.close();\n                if (this._connectionGeneration !== currentConnectionGeneration) {\n                    yield new Promise(() => { }); // Never resolve.\n                }\n                if (e instanceof Error &&\n                    e.name === 'SolanaMobileWalletAdapterError' &&\n                    e.code === 'ERROR_WALLET_NOT_FOUND') {\n                    yield this._onWalletNotFound(this);\n                }\n                throw e;\n            }\n        });\n    }\n    assertIsAuthorized() {\n        if (!this._authorizationResult || !this._selectedAddress)\n            throw new WalletNotConnectedError();\n        return {\n            authToken: this._authorizationResult.auth_token,\n            selectedAddress: this._selectedAddress,\n        };\n    }\n    performSignTransactions(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { authToken } = this.assertIsAuthorized();\n            try {\n                return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                    yield this.performReauthorization(wallet, authToken);\n                    const signedTransactions = yield wallet.signTransactions({\n                        transactions,\n                    });\n                    return signedTransactions;\n                }));\n            }\n            catch (error) {\n                throw new WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);\n            }\n        });\n    }\n    sendTransaction(transaction, connection, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const { authToken } = this.assertIsAuthorized();\n                const minContextSlot = options === null || options === void 0 ? void 0 : options.minContextSlot;\n                try {\n                    return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                        function getTargetCommitment() {\n                            let targetCommitment;\n                            switch (connection.commitment) {\n                                case 'confirmed':\n                                case 'finalized':\n                                case 'processed':\n                                    targetCommitment = connection.commitment;\n                                    break;\n                                default:\n                                    targetCommitment = 'finalized';\n                            }\n                            let targetPreflightCommitment;\n                            switch (options === null || options === void 0 ? void 0 : options.preflightCommitment) {\n                                case 'confirmed':\n                                case 'finalized':\n                                case 'processed':\n                                    targetPreflightCommitment = options.preflightCommitment;\n                                    break;\n                                case undefined:\n                                    targetPreflightCommitment = targetCommitment;\n                                    break;\n                                default:\n                                    targetPreflightCommitment = 'finalized';\n                            }\n                            const preflightCommitmentScore = targetPreflightCommitment === 'finalized'\n                                ? 2\n                                : targetPreflightCommitment === 'confirmed'\n                                    ? 1\n                                    : 0;\n                            const targetCommitmentScore = targetCommitment === 'finalized' ? 2 : targetCommitment === 'confirmed' ? 1 : 0;\n                            return preflightCommitmentScore < targetCommitmentScore\n                                ? targetPreflightCommitment\n                                : targetCommitment;\n                        }\n                        const [capabilities, _1, _2] = yield Promise.all([\n                            wallet.getCapabilities(),\n                            this.performReauthorization(wallet, authToken),\n                            isVersionedTransaction$1(transaction)\n                                ? null\n                                : /**\n                                   * Unlike versioned transactions, legacy `Transaction` objects\n                                   * may not have an associated `feePayer` or `recentBlockhash`.\n                                   * This code exists to patch them up in case they are missing.\n                                   */\n                                    (() => __awaiter(this, void 0, void 0, function* () {\n                                        var _a;\n                                        transaction.feePayer || (transaction.feePayer = (_a = this.publicKey) !== null && _a !== void 0 ? _a : undefined);\n                                        if (transaction.recentBlockhash == null) {\n                                            const { blockhash } = yield connection.getLatestBlockhash({\n                                                commitment: getTargetCommitment(),\n                                            });\n                                            transaction.recentBlockhash = blockhash;\n                                        }\n                                    }))(),\n                        ]);\n                        if (capabilities.supports_sign_and_send_transactions) {\n                            const signatures = yield wallet.signAndSendTransactions({\n                                minContextSlot,\n                                transactions: [transaction],\n                            });\n                            return signatures[0];\n                        }\n                        else {\n                            const [signedTransaction] = yield wallet.signTransactions({\n                                transactions: [transaction],\n                            });\n                            if (isVersionedTransaction$1(signedTransaction)) {\n                                return yield connection.sendTransaction(signedTransaction);\n                            }\n                            else {\n                                const serializedTransaction = signedTransaction.serialize();\n                                return yield connection.sendRawTransaction(serializedTransaction, Object.assign(Object.assign({}, options), { preflightCommitment: getTargetCommitment() }));\n                            }\n                        }\n                    }));\n                }\n                catch (error) {\n                    throw new WalletSendTransactionError(error === null || error === void 0 ? void 0 : error.message, error);\n                }\n            }));\n        });\n    }\n    signTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const [signedTransaction] = yield this.performSignTransactions([transaction]);\n                return signedTransaction;\n            }));\n        });\n    }\n    signAllTransactions(transactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const signedTransactions = yield this.performSignTransactions(transactions);\n                return signedTransactions;\n            }));\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                const { authToken, selectedAddress } = this.assertIsAuthorized();\n                try {\n                    return yield this.transact((wallet) => __awaiter(this, void 0, void 0, function* () {\n                        yield this.performReauthorization(wallet, authToken);\n                        const [signedMessage] = yield wallet.signMessages({\n                            addresses: [selectedAddress],\n                            payloads: [message],\n                        });\n                        const signature = signedMessage.slice(-SIGNATURE_LENGTH_IN_BYTES);\n                        return signature;\n                    }));\n                }\n                catch (error) {\n                    throw new WalletSignMessageError(error === null || error === void 0 ? void 0 : error.message, error);\n                }\n            }));\n        });\n    }\n    signIn(input) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.runWithGuard(() => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                if (this._readyState !== WalletReadyState.Installed && this._readyState !== WalletReadyState.Loadable) {\n                    throw new WalletNotReadyError();\n                }\n                this._connecting = true;\n                try {\n                    const authorizationResult = yield this.performAuthorization(Object.assign(Object.assign({}, input), { domain: (_a = input === null || input === void 0 ? void 0 : input.domain) !== null && _a !== void 0 ? _a : window.location.host }));\n                    if (!authorizationResult.sign_in_result) {\n                        throw new Error(\"Sign in failed, no sign in result returned by wallet\");\n                    }\n                    const signedInAddress = authorizationResult.sign_in_result.address;\n                    const signedInAccount = Object.assign(Object.assign({}, (_b = authorizationResult.accounts.find(acc => acc.address == signedInAddress)) !== null && _b !== void 0 ? _b : {\n                        address: signedInAddress\n                    }), { publicKey: toUint8Array$1(signedInAddress) });\n                    return {\n                        account: signedInAccount,\n                        signedMessage: toUint8Array$1(authorizationResult.sign_in_result.signed_message),\n                        signature: toUint8Array$1(authorizationResult.sign_in_result.signature)\n                    };\n                }\n                catch (e) {\n                    throw new WalletConnectionError((e instanceof Error && e.message) || 'Unknown error', e);\n                }\n                finally {\n                    this._connecting = false;\n                }\n            }));\n        });\n    }\n}\n\nfunction createDefaultAddressSelector() {\n    return {\n        select(addresses) {\n            return __awaiter(this, void 0, void 0, function* () {\n                return addresses[0];\n            });\n        },\n    };\n}\n\nconst CACHE_KEY = 'SolanaMobileWalletAdapterDefaultAuthorizationCache';\nfunction createDefaultAuthorizationResultCache() {\n    let storage;\n    try {\n        storage = window.localStorage;\n        // eslint-disable-next-line no-empty\n    }\n    catch (_a) { }\n    return {\n        clear() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!storage) {\n                    return;\n                }\n                try {\n                    storage.removeItem(CACHE_KEY);\n                    // eslint-disable-next-line no-empty\n                }\n                catch (_a) { }\n            });\n        },\n        get() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!storage) {\n                    return;\n                }\n                try {\n                    return JSON.parse(storage.getItem(CACHE_KEY)) || undefined;\n                    // eslint-disable-next-line no-empty\n                }\n                catch (_a) { }\n            });\n        },\n        set(authorizationResult) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!storage) {\n                    return;\n                }\n                try {\n                    storage.setItem(CACHE_KEY, JSON.stringify(authorizationResult));\n                    // eslint-disable-next-line no-empty\n                }\n                catch (_a) { }\n            });\n        },\n    };\n}\n\nfunction defaultWalletNotFoundHandler(mobileWalletAdapter) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (typeof window !== 'undefined') {\n            window.location.assign(mobileWalletAdapter.url);\n        }\n    });\n}\nfunction createDefaultWalletNotFoundHandler() {\n    return defaultWalletNotFoundHandler;\n}\n\nexport { SolanaMobileWalletAdapter, SolanaMobileWalletAdapterRemote, SolanaMobileWalletAdapterRemoteWalletName, SolanaMobileWalletAdapterWalletName, createDefaultAddressSelector, createDefaultAuthorizationResultCache, createDefaultWalletNotFoundHandler };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2852, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}